{"version":3,"sources":["../../../../esm/build/jest/snapshot-serializer/serializer.js"],"names":["createSerializer","globalCSS","test","val","withStyles","$$typeof","Symbol","for","print","printer","nodes","forEach","node","selectors","styles","join","code"],"mappings":";;;;;;;;;;;;;;;;;;UAIgBA,gB,GAAAA,gB;;AAAT,WAASA,gBAAT,CAA0B;AAC/BC,IAAAA,SAAS,GAAG;AADmB,MAE7B,EAFG,EAEC;AACN;;AAEA,aAASC,IAAT,CAAcC,GAAd,EAAmB;AACjB,aAAOA,GAAG,IAAI,CAACA,GAAG,CAACC,UAAZ,IAA0BD,GAAG,CAACE,QAAJ,KAAiBC,MAAM,CAACC,GAAP,CAAW,iBAAX,CAAlD;AACD;;AAED,aAASC,KAAT,CAAeL,GAAf,EAAoBM,OAApB,EAA6B;AAC3B,YAAMC,KAAK,GAAG,0BAASP,GAAT,CAAd;AACAO,MAAAA,KAAK,CAACC,OAAN,CAAcC,IAAI,IAAI;AACpBA,QAAAA,IAAI,CAACR,UAAL,GAAkB,IAAlB;AACD,OAFD;AAGA,YAAMS,SAAS,GAAG,4BAAaH,KAAb,CAAlB;AACA,YAAMI,MAAM,GAAG,yBAAUD,SAAV,EAAqB,gCAAoBE,IAApB,CAAyB,EAAzB,CAArB,EAAmDd,SAAnD,CAAf;AACA,YAAMe,IAAI,GAAGP,OAAO,CAACN,GAAD,CAApB;;AAEA,UAAIW,MAAJ,EAAY;AACV,eAAQ,GAAEA,MAAO,OAAME,IAAK,EAA5B;AACD;;AAED,aAAOA,IAAP;AACD;;AAED,WAAO;AACLd,MAAAA,IADK;AAELM,MAAAA;AAFK,KAAP;AAID;;oBACcR,gBAAgB,E","sourcesContent":["import { getSelectors, getStyles } from './cssUtils';\nimport { getNodes } from './reactUtils';\nimport { getInsertedStyles } from '../../../utils';\nimport { addOverrides } from './cssPropertyOverrides';\nexport function createSerializer({\n  globalCSS = ''\n} = {}) {\n  addOverrides();\n\n  function test(val) {\n    return val && !val.withStyles && val.$$typeof === Symbol.for('react.test.json');\n  }\n\n  function print(val, printer) {\n    const nodes = getNodes(val);\n    nodes.forEach(node => {\n      node.withStyles = true;\n    });\n    const selectors = getSelectors(nodes);\n    const styles = getStyles(selectors, getInsertedStyles().join(''), globalCSS);\n    const code = printer(val);\n\n    if (styles) {\n      return `${styles}\\n\\n${code}`;\n    }\n\n    return code;\n  }\n\n  return {\n    test,\n    print\n  };\n}\nexport default createSerializer();\n//# sourceMappingURL=serializer.js.map"],"file":"serializer.js"}