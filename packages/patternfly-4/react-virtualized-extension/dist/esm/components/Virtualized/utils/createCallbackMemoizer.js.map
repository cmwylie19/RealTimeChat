{"version":3,"sources":["../../../../../src/components/Virtualized/utils/createCallbackMemoizer.ts"],"names":["createCallbackMemoizer","requireAllKeys","cachedIndices","callback","indices","keys","Object","allInitialized","every","key","value","Array","isArray","length","indexChanged","some","cachedValue","join"],"mappings":"AAAA;;;AAGA,eAAe,SAASA,sBAAT,CAAgCC,cAAc,GAAG,IAAjD,EAAuD;AACpE,MAAIC,aAAa,GAAG,EAApB;AAEA,SAAO,CAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,KAA2B;AAChC,UAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,OAAZ,CAAb;AACA,UAAMG,cAAc,GAClB,CAACN,cAAD,IACAI,IAAI,CAACG,KAAL,CAAYC,GAAD,IAAS;AAClB,YAAMC,KAAK,GAAGN,OAAO,CAACK,GAAD,CAArB;AACA,aAAOE,KAAK,CAACC,OAAN,CAAcF,KAAd,IAAuBA,KAAK,CAACG,MAAN,GAAe,CAAtC,GAA0CH,KAAK,IAAI,CAA1D;AACD,KAHD,CAFF;AAMA,UAAMI,YAAY,GAChBT,IAAI,CAACQ,MAAL,KAAgBP,MAAM,CAACD,IAAP,CAAYH,aAAZ,EAA2BW,MAA3C,IACAR,IAAI,CAACU,IAAL,CAAWN,GAAD,IAAS;AACjB,YAAMO,WAAW,GAAGd,aAAa,CAACO,GAAD,CAAjC;AACA,YAAMC,KAAK,GAAGN,OAAO,CAACK,GAAD,CAArB;AAEA,aAAOE,KAAK,CAACC,OAAN,CAAcF,KAAd,IAAuBM,WAAW,CAACC,IAAZ,CAAiB,GAAjB,MAA0BP,KAAK,CAACO,IAAN,CAAW,GAAX,CAAjD,GAAmED,WAAW,KAAKN,KAA1F;AACD,KALD,CAFF;AASAR,IAAAA,aAAa,GAAGE,OAAhB;;AAEA,QAAIG,cAAc,IAAIO,YAAtB,EAAoC;AAClCX,MAAAA,QAAQ,CAACC,OAAD,CAAR;AACD;AACF,GAtBD;AAuBD","sourcesContent":["/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nexport default function createCallbackMemoizer(requireAllKeys = true) {\n  let cachedIndices = {};\n\n  return ({ callback, indices }) => {\n    const keys = Object.keys(indices);\n    const allInitialized =\n      !requireAllKeys ||\n      keys.every((key) => {\n        const value = indices[key];\n        return Array.isArray(value) ? value.length > 0 : value >= 0;\n      });\n    const indexChanged =\n      keys.length !== Object.keys(cachedIndices).length ||\n      keys.some((key) => {\n        const cachedValue = cachedIndices[key];\n        const value = indices[key];\n\n        return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n      });\n\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}\n"],"file":"createCallbackMemoizer.js"}