{"version":3,"sources":["../../../esm/components/ChartUtils/chart-domain.js"],"names":["getDomain","data","maxDomain","minDomain","x","y","xLow","xHigh","xLowSearch","xHighSearch","undefined","yLow","yHigh","yLowSearch","yHighSearch","datum","Data","formatData","forEach","dataPoint","_x","_y","getDomains","sources","domains","source","compData","component","props","domain","push","xDomains","yDomains","Math","min","max"],"mappings":"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","sourcesContent":["import { Data } from 'victory-core';\n// Returns the min and max domain for given data\nexport const getDomain = ({\n  data,\n  maxDomain,\n  minDomain,\n  x,\n  y\n}) => {\n  // x-domain\n  let xLow = 0;\n  let xHigh = 0;\n  let xLowSearch = true;\n  let xHighSearch = true;\n\n  if (minDomain !== undefined && minDomain.x !== undefined) {\n    xLow = minDomain.x;\n    xLowSearch = false;\n  } else if (minDomain !== undefined && minDomain.y === undefined) {\n    xLow = minDomain;\n    xLowSearch = false;\n  }\n\n  if (maxDomain !== undefined && maxDomain.x !== undefined) {\n    xHigh = maxDomain.x;\n    xHighSearch = false;\n  } else if (maxDomain !== undefined && maxDomain.y === undefined) {\n    xHigh = maxDomain;\n    xHighSearch = false;\n  } // y-domain\n\n\n  let yLow = 0;\n  let yHigh = 0;\n  let yLowSearch = true;\n  let yHighSearch = true;\n\n  if (minDomain !== undefined && minDomain.y !== undefined) {\n    yLow = minDomain.y;\n    yLowSearch = false;\n  } else if (minDomain !== undefined && minDomain.x === undefined) {\n    yLow = minDomain;\n    yLowSearch = false;\n  }\n\n  if (maxDomain !== undefined && maxDomain.y !== undefined) {\n    yHigh = maxDomain.y;\n    yHighSearch = false;\n  } else if (maxDomain !== undefined && maxDomain.x === undefined) {\n    yHigh = maxDomain;\n    yHighSearch = false;\n  } // Search data for max / min range\n\n\n  const datum = Data.formatData(data, {\n    x,\n    y\n  }, ['x', 'y']);\n  datum.forEach(dataPoint => {\n    if (xLowSearch) {\n      if (dataPoint._x < xLow) {\n        xLow = dataPoint._x;\n      }\n    }\n\n    if (xHighSearch) {\n      if (dataPoint._x > xHigh) {\n        xHigh = dataPoint._x;\n      }\n    }\n\n    if (yLowSearch) {\n      if (dataPoint._y < yLow) {\n        yLow = dataPoint._y;\n      }\n    }\n\n    if (yHighSearch) {\n      if (dataPoint._y > yHigh) {\n        yHigh = dataPoint._y;\n      }\n    }\n  });\n  return {\n    x: [xLow, xHigh],\n    y: [yLow, yHigh]\n  };\n};\nexport const getDomains = ({\n  maxDomain,\n  minDomain,\n  sources\n}) => {\n  const domains = [];\n  sources.forEach(source => {\n    const {\n      data: compData = source.data\n    } = source.component ? source.component.props : undefined;\n    const domain = getDomain({\n      data: compData,\n      maxDomain,\n      minDomain,\n      x: source.component ? source.component.props.x : undefined,\n      y: source.component ? source.component.props.y : undefined\n    });\n    domains.push(domain);\n  });\n  const xDomains = [];\n  const yDomains = [];\n  domains.forEach(domain => {\n    xDomains.push(...domain.x);\n    yDomains.push(...domain.y);\n  });\n  const xLow = Math.min(...xDomains);\n  const xHigh = Math.max(...xDomains);\n  const yLow = Math.min(...yDomains);\n  const yHigh = Math.max(...yDomains);\n  return {\n    x: [xLow, xHigh],\n    y: [yLow, yHigh]\n  };\n};\n//# sourceMappingURL=chart-domain.js.map"],"file":"chart-domain.js"}