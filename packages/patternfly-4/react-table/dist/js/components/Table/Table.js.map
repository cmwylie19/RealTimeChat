{"version":3,"sources":["../../../../src/components/Table/Table.tsx"],"names":["TableGridBreakpoint","TableVariant","SortByDirection","TableContext","React","createContext","headerData","headerRows","rows","Table","row","selected","undefined","length","every","isSelected","hasOwnProperty","showSelect","props","ariaLabel","caption","header","className","gridBreakPoint","onSort","onSelect","canSelectAll","sortBy","children","actions","actionResolver","areActionsDisabled","onCollapse","onExpand","rowLabeledBy","dropdownPosition","dropdownDirection","contentId","expandId","variant","cells","bodyWrapper","rowWrapper","borders","role","console","error","allRowsSelected","areAllRowsSelected","firstUserColumnIndex","filter","callback","body","wrapper","BodyWrapper","RowWrapper","cell","BodyCell","HeaderCell","styles","table","stylesGrid","compact","modifiers","expandable","noBorderRows","Component","index","direction","isSeparator","itemKey","title","onClick","isOpen","parent","compoundParent","fullWidth","noPadding","isExpanded","isFirstVisible","isLastVisible","transforms","cellTransforms","columnTransforms","formatters","cellFormatters","data","DropdownPosition","right","DropdownDirection","down","gridMd"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport stylesGrid from '@patternfly/react-styles/css/components/Table/table-grid';\nimport { DropdownPosition, DropdownDirection, DropdownItemProps, Omit } from '@patternfly/react-core';\nimport { css, getModifier } from '@patternfly/react-styles';\nimport { Provider } from './base';\nimport { BodyCell } from './BodyCell';\nimport { HeaderCell } from './HeaderCell';\nimport { RowWrapper } from './RowWrapper';\nimport { BodyWrapper } from './BodyWrapper';\nimport { calculateColumns } from './utils/headerUtils';\nimport { formatterValueType, ColumnType, RowType, RowKeyType, ColumnsType } from './base';\n\nexport enum TableGridBreakpoint {\n  none = '',\n  grid = 'grid',\n  gridMd = 'grid-md',\n  gridLg = 'grid-lg',\n  gridXl = 'grid-xl',\n  grid2xl = 'grid-2xl'\n}\n\nexport enum TableVariant {\n  compact = 'compact'\n}\n\nexport type OnSort = (event: React.MouseEvent, columnIndex: number, sortByDirection: SortByDirection, extraData: IExtraColumnData) => void;\nexport type OnCollapse = (event: React.MouseEvent, rowIndex: number, isOpen: boolean, rowData: IRowData, extraData: IExtraData) => void;\nexport type OnExpand = (event: React.MouseEvent, rowIndex: number, colIndex: number, isOpen: boolean, rowData: IRowData, extraData: IExtraData) => void;\nexport type OnSelect = (event: React.MouseEvent, isSelected: boolean, rowIndex: number, rowData: IRowData, extraData: IExtraData) => void;\n\nexport enum SortByDirection {\n  asc = 'asc',\n  desc = 'desc'\n}\n\nexport interface IHeaderRow extends ColumnType {\n}\n\nexport interface IRowData extends IRow {\n  disableActions?: boolean;\n}\n\nexport interface IColumn {\n  extraParams: {\n    sortBy?: ISortBy;\n    onSort?: OnSort;\n    onCollapse?: OnCollapse;\n    onExpand?: OnExpand;\n    onSelect?: OnSelect;\n    rowLabeledBy?: string;\n    expandId?: string;\n    contentId?: string;\n    dropdownPosition?: DropdownPosition;\n    dropdownDirection?: DropdownDirection;\n    allRowsSelected?: boolean;\n  };\n}\n\nexport interface IExtraRowData {\n  rowIndex?: number;\n  rowKey?: RowKeyType;\n}\n\nexport interface IExtraColumnData {\n  columnIndex?: number;\n  column?: IColumn;\n  property?: string;\n}\n\nexport interface IExtraData extends IExtraColumnData, IExtraRowData {\n}\n\nexport interface IExtra extends IExtraData {\n  rowData?: IRowData;\n}\n\nexport type IFormatterValueType = formatterValueType & {\n  title?: string | React.ReactNode;\n  props?: any;\n};\n\nexport interface ISortBy {\n  index?: number;\n  direction?: 'asc' | 'desc';\n}\n\nexport interface IAction extends Omit<DropdownItemProps, 'title' | 'onClick'> {\n  isSeparator?: boolean;\n  itemKey?: string;\n  title?: string | React.ReactNode;\n  onClick: (event: React.MouseEvent, rowIndex: number, rowData: IRowData, extraData: IExtraData) => void;\n}\n\nexport interface ISeparator extends IAction {\n  isSeparator: boolean;\n}\n\nexport type IActions = (IAction | ISeparator)[];\nexport type IActionsResolver = (rowData: IRowData, extraData: IExtraData) => (IAction | ISeparator)[];\nexport type IAreActionsDisabled = (rowData: IRowData, extraData: IExtraData) => boolean;\n\n// to be removed in future, this interface is no longer accurate\nexport interface IDecorator extends React.HTMLProps<HTMLElement> {\n  isVisible: boolean;\n  children?: React.ReactNode;\n}\n\nexport type ITransforms = ((\n  label?: IFormatterValueType,\n  rowData?: IRowData,\n  columnIndex?: number,\n  column?: IColumn,\n  property?: string,\n  rowIndex?: number,\n  rowKey?: RowKeyType ) => { className: string; 'aria-sort': string; children: React.ReactNode; })[];\n\nexport type IFormatters = ((\n    data?: IFormatterValueType,\n    rowData?: IRowData,\n    columnIndex?: number,\n    column?: IColumn,\n    property?: string,\n    rowIndex?: number,\n    rowKey?: RowKeyType ) => formatterValueType)[];\n\nexport interface ICell {\n  title?: string | React.ReactNode;\n  transforms?: ITransforms;\n  cellTransforms?: ITransforms;\n  columnTransforms?: ITransforms;\n  formatters?: IFormatters;\n  cellFormatters?: IFormatters;\n  props?: any;\n  data?: any;\n  header?: any;\n  cell?: any;\n}\n\nexport interface IRowCell {\n  title?: string | React.ReactNode;\n  props?: any;\n}\n\nexport interface IRow extends RowType {\n  cells?: (React.ReactNode | IRowCell)[];\n  isOpen?: boolean;\n  parent?: number;\n  compoundParent?: number;\n  props?: any;\n  fullWidth?: boolean;\n  noPadding?: boolean;\n  showSelect?: boolean;\n  isExpanded?: boolean;\n  isFirstVisible?: boolean;\n  isLastVisible?: boolean;\n  selected?: boolean;\n}\n\nexport interface TableProps {\n  'aria-label'?: string;\n  children?: React.ReactNode;\n  className?: string;\n  variant?: 'compact';\n  borders?: boolean;\n  gridBreakPoint?: '' | 'grid' | 'grid-md' | 'grid-lg' | 'grid-xl' | 'grid-2xl';\n  sortBy?: ISortBy;\n  onCollapse?: OnCollapse;\n  onExpand?: OnExpand;\n  onSelect?: OnSelect;\n  canSelectAll?: boolean;\n  onSort?: OnSort;\n  actions?: IActions;\n  actionResolver?: IActionsResolver;\n  areActionsDisabled?: IAreActionsDisabled;\n  header?: React.ReactNode;\n  caption?: React.ReactNode;\n  rowLabeledBy?: string;\n  expandId?: string;\n  contentId?: string;\n  dropdownPosition?: 'right' | 'left';\n  dropdownDirection?: 'up' | 'down';\n  rows: (IRow | string[])[];\n  cells: (ICell | string)[];\n  bodyWrapper?: Function;\n  rowWrapper?: Function;\n  role?: string;\n}\n\nexport const TableContext = React.createContext({\n  headerData: null as ColumnsType,\n  headerRows: null as IHeaderRow[],\n  rows: [] as (IRow | string[])[]\n});\n\nexport class Table extends React.Component<TableProps, {}> {\n  static defaultProps = {\n    \"children\": null as React.ReactNode,\n    \"className\": '',\n    \"variant\": null as TableVariant,\n    \"borders\": true,\n    \"rowLabeledBy\": 'simple-node',\n    \"expandId\": 'expandable-toggle',\n    \"contentId\": 'expanded-content',\n    \"dropdownPosition\": DropdownPosition.right,\n    \"dropdownDirection\": DropdownDirection.down,\n    \"header\": undefined as React.ReactNode,\n    \"caption\": undefined as React.ReactNode,\n    'aria-label': undefined as string,\n    \"gridBreakPoint\": TableGridBreakpoint.gridMd,\n    \"role\": 'grid',\n    \"canSelectAll\": true\n  };\n\n  isSelected = (row: IRow) => row.selected === true;\n\n  areAllRowsSelected = (rows: IRow[]) => {\n    if (rows === undefined || rows.length === 0) {\n      return false;\n    }\n    return rows.every((row) => this.isSelected(row) || (row.hasOwnProperty('parent') && !row.showSelect));\n  }\n\n  render() {\n    const {\n      'aria-label': ariaLabel,\n      caption,\n      header,\n      className,\n      gridBreakPoint,\n      onSort,\n      onSelect,\n      canSelectAll,\n      sortBy,\n      children,\n      actions,\n      actionResolver,\n      areActionsDisabled,\n      onCollapse,\n      onExpand,\n      rowLabeledBy,\n      dropdownPosition,\n      dropdownDirection,\n      contentId,\n      expandId,\n      variant,\n      rows,\n      cells,\n      bodyWrapper,\n      rowWrapper,\n      borders,\n      role,\n      ...props\n    } = this.props;\n\n    if (!ariaLabel && !caption && !header && role !== 'presentation') {\n      // tslint:disable-next-line:no-console\n      console.error('Table: Specify at least one of: header, caption, aria-label');\n    }\n\n    const headerData = calculateColumns(cells, {\n      sortBy,\n      onSort,\n      onSelect,\n      canSelectAll,\n      allRowsSelected: onSelect ? this.areAllRowsSelected(rows as IRow[]) : false,\n      actions,\n      actionResolver,\n      areActionsDisabled,\n      onCollapse,\n      onExpand,\n      rowLabeledBy,\n      expandId,\n      contentId,\n      dropdownPosition,\n      dropdownDirection,\n      firstUserColumnIndex: [onCollapse, onSelect].filter((callback) => callback).length\n    });\n\n    return (\n      <TableContext.Provider\n        value={{\n          headerData,\n          headerRows: null as IHeaderRow[],\n          rows\n        }}\n      >\n        {header}\n        <Provider\n          {...props}\n          aria-label={ariaLabel}\n          renderers={{\n            body: {\n              wrapper: bodyWrapper || BodyWrapper,\n              row: rowWrapper || RowWrapper,\n              cell: BodyCell\n            },\n            header: {\n              cell: HeaderCell\n            }\n          }}\n          columns={headerData}\n          role={role}\n          className={css(\n            styles.table,\n            gridBreakPoint && getModifier(stylesGrid, gridBreakPoint),\n            getModifier(styles, variant),\n            ((onCollapse && variant === TableVariant.compact) || onExpand) && styles.modifiers.expandable,\n            variant === TableVariant.compact && borders === false ? styles.modifiers.noBorderRows : null,\n            className\n          )}\n        >\n          {caption && <caption>{caption}</caption>}\n          {children}\n        </Provider>\n      </TableContext.Provider>\n    );\n  }\n}\n"],"file":"Table.js"}