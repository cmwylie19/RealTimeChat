{"version":3,"sources":["../../../../src/components/ChartBullet/ChartBulletTitle.tsx"],"names":["ChartBulletTitle","ariaDesc","ariaTitle","capHeight","horizontal","legendPosition","padding","standalone","subTitleComponent","subTitle","themeColor","themeVariant","title","titleComponent","titlePosition","theme","height","chart","width","rest","chartSize","defaultPadding","bottom","left","right","top","getTitle","showBoth","labelPosition","includes","React","cloneElement","style","ChartBulletStyles","label","text","textAnchor","verticalAnchor","x","chartWidth","dx","ChartCommonStyles","margin","svgWidth","qualitativeRangeWidth","y","chartHeight","dy","legend","props"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  PaddingProps,\n  StringOrNumberOrCallback,\n} from 'victory';\nimport { ChartContainer } from '../ChartContainer';\nimport { ChartLabel } from '../ChartLabel';\nimport { ChartLegendPosition } from '../ChartLegend';\nimport { ChartBulletStyles, ChartCommonStyles, ChartThemeDefinition } from '../ChartTheme';\nimport { getBulletTheme, getBulletLabelX, getBulletLabelY, getPaddingForSide } from '../ChartUtils';\n\n/**\n * See https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/victory/index.d.ts\n */\nexport interface ChartBulletTitleProps {\n  /**\n   * The ariaDesc prop specifies the description of the chart/SVG to assist with\n   * accessibility for screen readers.\n   *\n   * Note: Overridden by the desc prop of containerComponent\n   */\n  ariaDesc?: string;\n  /**\n   * The ariaTitle prop specifies the title to be applied to the SVG to assist\n   * accessibility for screen readers.\n   *\n   * Note: Overridden by the title prop of containerComponent\n   */\n  ariaTitle?: string;\n  /**\n   * The capHeight prop defines a text metric for the font being used: the expected height of capital letters.\n   * This is necessary because of SVG, which (a) positions the *bottom* of the text at `y`, and (b) has no notion of\n   * line height. The value should ideally use the same units as `lineHeight` and `dy`, preferably ems. If given a\n   * unitless number, it is assumed to be ems.\n   */\n  capHeight?: StringOrNumberOrCallback;\n  /**\n   * The height props specifies the height the svg viewBox of the chart container.\n   * This value should be given as a number of pixels\n   */\n  height?: number;\n  /**\n   * The horizontal prop determines whether data will be plotted horizontally.\n   * When this prop is set to true, the independent variable will be plotted on the y axis\n   * and the dependent variable will be plotted on the x axis.\n   */\n  horizontal?: boolean;\n  /**\n   * The legend position relation to the chart. Valid values are 'bottom', 'bottom-left', and 'right'\n   */\n  legendPosition?: 'bottom' | 'bottom-left' | 'right';\n  /**\n   * The padding props specifies the amount of padding in number of pixels between\n   * the edge of the chart and any rendered child components. This prop can be given\n   * as a number or as an object with padding specified for top, bottom, left\n   * and right.\n   *\n   * Note: The underlying bullet chart is a different size than height and width. For a horizontal chart, left and right\n   * padding may need to be applied at (approx) 2 to 1 scale.\n   */\n  padding?: PaddingProps;\n  /**\n   * The standalone prop determines whether the component will render a standalone svg\n   * or a <g> tag that will be included in an external svg. Set standalone to false to\n   * compose ChartLine with other components within an enclosing <svg> tag.\n   */\n  standalone?: boolean;\n  /**\n   * The subtitle to render for grouped bullets\n   */\n  subTitle?: string;\n  /**\n   * The label component to render the chart subTitle.\n   *\n   * Note: Default label properties may be applied\n   */\n  subTitleComponent?: React.ReactElement<any>;\n  /**\n   * The theme prop takes a style object with nested data, labels, and parent objects.\n   * You can create this object yourself, or you can use a theme provided by\n   * When using ChartLine as a solo component, implement the theme directly on\n   * ChartLine. If you are wrapping ChartLine in ChartChart or ChartGroup,\n   * please call the theme on the outermost wrapper component instead.\n   */\n  theme?: ChartThemeDefinition;\n  /**\n   * Specifies the theme color. Valid values are 'blue', 'green', 'multi', etc.\n   *\n   * Note: Not compatible with theme prop\n   *\n   * @example themeColor={ChartThemeColor.blue}\n   */\n  themeColor?: string;\n  /**\n   * Specifies the theme variant. Valid values are 'dark' or 'light'\n   *\n   * Note: Not compatible with theme prop\n   *\n   * @example themeVariant={ChartThemeVariant.light}\n   */\n  themeVariant?: string;\n  /**\n   * The title to render for grouped bullets\n   */\n  title?: string;\n  /**\n   * The label component to render the chart title.\n   *\n   * Note: Default label properties may be applied\n   */\n  titleComponent?: React.ReactElement<any>;\n  /**\n   * The title position relation to the chart. Valid values are 'left', and 'top-left'\n   *\n   * Note: These properties are only valid for horizontal layouts\n   */\n  titlePosition?: 'left' | 'top-left';\n  /**\n   * The width props specifies the width of the svg viewBox of the chart container\n   * This value should be given as a number of pixels\n   */\n  width?: number;\n}\n\nexport const ChartBulletTitle: React.FunctionComponent<ChartBulletTitleProps> = ({\n  ariaDesc,\n  ariaTitle,\n  capHeight = 1.1,\n  horizontal = true,\n  legendPosition = 'bottom' as ChartLegendPosition,\n  padding,\n  standalone = true,\n  subTitleComponent = <ChartLabel />,\n  subTitle,\n  themeColor,\n  themeVariant,\n  title,\n  titleComponent = <ChartLabel />,\n  titlePosition,\n\n  // destructure last\n  theme = getBulletTheme(themeColor, themeVariant),\n  height = horizontal ? theme.chart.height : theme.chart.width,\n  width = horizontal ? theme.chart.width : theme.chart.height,\n  ...rest\n}: ChartBulletTitleProps) => {\n  const chartSize = {\n    height: horizontal ? theme.chart.height : height,\n    width: horizontal ? width : theme.chart.height\n  };\n\n  const defaultPadding = {\n    bottom: getPaddingForSide('bottom',  padding, theme.chart.padding),\n    left: getPaddingForSide('left', padding, theme.chart.padding),\n    right: getPaddingForSide('right', padding, theme.chart.padding),\n    top: getPaddingForSide('top', padding, theme.chart.padding),\n  };\n\n  // Returns title\n  const getTitle = () => {\n    const showBoth = title && subTitle;\n\n    let labelPosition: 'bottom' | 'left' | 'top-left' = horizontal ? 'left' : 'bottom';\n    if (titlePosition && titlePosition.includes('left') && horizontal) {\n      labelPosition = titlePosition;\n    }\n\n    // The x and y calculations below are used to adjust the position of the title, based on padding and scale.\n    // This ensures that when padding is adjusted, the title moves along with the chart's position.\n    return React.cloneElement(titleComponent, {\n      ...showBoth && { capHeight },\n      style: [ChartBulletStyles.label.title, ChartBulletStyles.label.subTitle],\n      text: showBoth ? [title, subTitle] : title,\n      textAnchor: labelPosition === 'top-left' ? 'start' : horizontal ? 'end' : 'middle',\n      verticalAnchor: labelPosition === 'top-left' ? 'end' : 'middle',\n      // Adjust for padding\n      x: horizontal\n        ? getBulletLabelX({\n          chartWidth: chartSize.width,\n          dx: labelPosition === 'top-left'\n            ? defaultPadding.left\n            : defaultPadding.left - ChartCommonStyles.label.margin * 1.75,\n          labelPosition: 'left', // skip 'bottom'\n          legendPosition,\n          svgWidth: width\n        })\n        : defaultPadding.left * .5 + (defaultPadding.right * .5 - (defaultPadding.right - 50)) +\n          ChartBulletStyles.qualitativeRangeWidth / 2,\n      y: getBulletLabelY({\n        chartHeight: chartSize.height,\n        // Adjust for padding\n        dy: labelPosition === 'top-left'\n          ? defaultPadding.top * .5 + (defaultPadding.bottom * .5 - (defaultPadding.bottom)) + 58 -\n            ChartCommonStyles.legend.margin + (showBoth ? 0 : 1)\n          : horizontal\n            ? defaultPadding.top * .5 + (defaultPadding.bottom * .5 - (defaultPadding.bottom))\n            : ChartCommonStyles.legend.margin * 2 - defaultPadding.bottom,\n        labelPosition\n      }),\n      ...titleComponent.props\n    });\n  };\n\n  return standalone ? (\n    <ChartContainer desc={ariaDesc} height={height} title={ariaTitle} width={width}>\n      {getTitle()}\n    </ChartContainer>\n  ) : (\n    <React.Fragment>\n      {getTitle()}\n    </React.Fragment>\n  );\n};\n"],"file":"ChartBulletTitle.js"}