{"version":3,"sources":["../../../esm/components/Modal/Modal.test.js"],"names":["React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","jest","spyOn","document","body","props","title","onClose","fn","isOpen","children","test","view","createElement","Modal","update","expect","toBeCalledWith","toHaveBeenCalledTimes","appendTo","mock","addEventListener","event","handler","calls","toBe","keyCode","KEY_CODES","ESCAPE_KEY","toBeCalled","not","first","second","instance","id","className","toContain","styles","backdropOpen","setProps","exists","toBeTruthy","showClose","toBeFalsy"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from 'react';\nimport { shallow, mount } from 'enzyme';\nimport { KEY_CODES } from '../../helpers/constants';\nimport { css } from '../../../../react-styles/dist/js';\nimport styles from '@patternfly/react-styles/css/components/Backdrop/backdrop';\nimport { Modal } from './Modal';\njest.spyOn(document, 'createElement');\njest.spyOn(document.body, 'addEventListener');\nconst props = {\n  title: 'Modal',\n  onClose: jest.fn(),\n  isOpen: false,\n  children: 'modal content'\n};\ntest('Modal creates a container element once for div', () => {\n  const view = shallow(React.createElement(Modal, props));\n  view.update();\n  expect(document.createElement).toBeCalledWith('div');\n  expect(document.createElement).toHaveBeenCalledTimes(1);\n});\ntest('modal closes with escape', () => {\n  shallow(React.createElement(Modal, _extends({}, props, {\n    isOpen: true,\n    appendTo: document.body\n  })));\n  const mock = document.body.addEventListener.mock;\n  const [event, handler] = mock.calls[0];\n  expect(event).toBe('keydown');\n  handler({\n    keyCode: KEY_CODES.ESCAPE_KEY\n  });\n  expect(props.onClose).toBeCalled();\n});\ntest('modal does not call onClose for esc key if it is not open', () => {\n  shallow(React.createElement(Modal, props));\n  const mock = document.body.addEventListener.mock;\n  const [event, handler] = mock.calls[0];\n  expect(event).toBe('keydown');\n  handler({\n    keyCode: KEY_CODES.ESCAPE_KEY\n  });\n  expect(props.onClose).not.toBeCalled();\n});\ntest('Each modal is given a new id', () => {\n  const first = shallow(React.createElement(Modal, props));\n  const second = shallow(React.createElement(Modal, props));\n  expect(first.instance().id).not.toBe(second.instance().id);\n});\ntest('modal removes body backdropOpen class when removed', () => {\n  const view = shallow(React.createElement(Modal, _extends({}, props, {\n    isOpen: true\n  })));\n  view.update();\n  expect(document.body.className).toContain(css(styles.backdropOpen));\n  view.setProps({\n    isOpen: false\n  });\n  view.update();\n  expect(document.body.className).not.toContain(css(styles.backdropOpen));\n});\ntest('modal shows/hides the close button based on showClose (default true)', () => {\n  const view = mount(React.createElement(Modal, _extends({}, props, {\n    isOpen: true\n  })));\n  view.update();\n  expect(view.exists('.pf-c-modal-box .pf-c-button')).toBeTruthy();\n  view.setProps({\n    showClose: false\n  });\n  view.update();\n  expect(view.exists('.pf-c-modal-box .pf-c-button')).toBeFalsy();\n});\n//# sourceMappingURL=Modal.test.js.map"],"file":"Modal.test.js"}