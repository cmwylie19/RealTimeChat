{"version":3,"sources":["../../../esm/components/ContextSelector/ContextSelectorToggle.js"],"names":["React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","ContextSelectorToggle","Component","constructor","args","createRef","document","addEventListener","onDocClick","onEscPress","removeEventListener","event","isOpen","parentRef","onToggle","props","contains","toggle","current","focus","keyCode","which","KEY_CODES","ESCAPE_KEY","onEnter","TAB","ENTER","preventDefault","SPACE","render","_this$props","className","toggleText","isFocused","isActive","isHovered","id","createElement","ref","styles","contextSelectorToggle","modifiers","hover","active","type","onClick","onKeyDown","contextSelectorToggleText","CaretDownIcon","contextSelectorToggleIcon","_pt","string","isRequired","bool","func","any","undefined"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { CaretDownIcon } from '@patternfly/react-icons';\nimport styles from '@patternfly/react-styles/css/components/ContextSelector/context-selector';\nimport { css } from '@patternfly/react-styles';\nimport { KEY_CODES } from '../../helpers/constants';\nexport class ContextSelectorToggle extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"toggle\", React.createRef());\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      document.addEventListener('mousedown', this.onDocClick);\n      document.addEventListener('touchstart', this.onDocClick);\n      document.addEventListener('keydown', this.onEscPress);\n    });\n\n    _defineProperty(this, \"componentWillUnmount\", () => {\n      document.removeEventListener('mousedown', this.onDocClick);\n      document.removeEventListener('touchstart', this.onDocClick);\n      document.removeEventListener('keydown', this.onEscPress);\n    });\n\n    _defineProperty(this, \"onDocClick\", event => {\n      const {\n        isOpen,\n        parentRef,\n        onToggle\n      } = this.props;\n\n      if (isOpen && parentRef && !parentRef.contains(event.target)) {\n        onToggle(null, false);\n        this.toggle.current.focus();\n      }\n    });\n\n    _defineProperty(this, \"onEscPress\", event => {\n      const {\n        isOpen,\n        parentRef,\n        onToggle\n      } = this.props;\n      const keyCode = event.keyCode || event.which;\n\n      if (isOpen && keyCode === KEY_CODES.ESCAPE_KEY && parentRef && parentRef.contains(event.target)) {\n        onToggle(null, false);\n        this.toggle.current.focus();\n      }\n    });\n\n    _defineProperty(this, \"onKeyDown\", event => {\n      const {\n        isOpen,\n        onToggle,\n        onEnter\n      } = this.props;\n\n      if (event.keyCode === KEY_CODES.TAB && !isOpen || event.key !== KEY_CODES.ENTER) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if ((event.keyCode === KEY_CODES.TAB || event.keyCode === KEY_CODES.ENTER || event.key !== KEY_CODES.SPACE) && isOpen) {\n        onToggle(null, !isOpen);\n      } else if ((event.keyCode === KEY_CODES.ENTER || event.key === ' ') && !isOpen) {\n        onToggle(null, !isOpen);\n        onEnter();\n      }\n    });\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      className,\n      toggleText,\n      isOpen,\n      isFocused,\n      isActive,\n      isHovered,\n      onToggle,\n      onEnter,\n      parentRef,\n      id\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"className\", \"toggleText\", \"isOpen\", \"isFocused\", \"isActive\", \"isHovered\", \"onToggle\", \"onEnter\", \"parentRef\", \"id\"]);\n\n    return React.createElement(\"button\", _extends({}, props, {\n      id: id,\n      ref: this.toggle,\n      className: css(styles.contextSelectorToggle, isFocused && styles.modifiers.focus, isHovered && styles.modifiers.hover, isActive && styles.modifiers.active, className),\n      type: \"button\",\n      onClick: event => onToggle(event, !isOpen),\n      \"aria-expanded\": isOpen,\n      onKeyDown: this.onKeyDown\n    }), React.createElement(\"span\", {\n      className: css(styles.contextSelectorToggleText)\n    }, toggleText), React.createElement(CaretDownIcon, {\n      className: css(styles.contextSelectorToggleIcon),\n      \"aria-hidden\": true\n    }));\n  }\n\n}\n\n_defineProperty(ContextSelectorToggle, \"propTypes\", {\n  id: _pt.string.isRequired,\n  className: _pt.string,\n  toggleText: _pt.string,\n  isOpen: _pt.bool,\n  onToggle: _pt.func,\n  onEnter: _pt.func,\n  parentRef: _pt.any,\n  isFocused: _pt.bool,\n  isHovered: _pt.bool,\n  isActive: _pt.bool\n});\n\n_defineProperty(ContextSelectorToggle, \"defaultProps\", {\n  className: '',\n  toggleText: '',\n  isOpen: false,\n  onEnter: () => undefined,\n  parentRef: null,\n  isFocused: false,\n  isHovered: false,\n  isActive: false,\n  onToggle: (event, value) => undefined\n});\n//# sourceMappingURL=ContextSelectorToggle.js.map"],"file":"ContextSelectorToggle.js"}