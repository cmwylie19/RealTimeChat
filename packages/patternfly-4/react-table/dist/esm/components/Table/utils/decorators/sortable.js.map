{"version":3,"sources":["../../../../../../src/components/Table/utils/decorators/sortable.tsx"],"names":["React","css","styles","buttonStyles","SortByDirection","SortColumn","sortable","label","columnIndex","column","property","extraParams","sortBy","onSort","extraData","isSortedBy","index","sortClicked","event","reversedDirection","asc","direction","desc","tableSort","modifiers","selected","button","plain"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,GAAT,QAAoB,0BAApB;AACA,OAAOC,MAAP,MAAmB,qDAAnB;AACA,OAAOC,YAAP,MAAyB,uDAAzB;AACA,SAASC,eAAT,QAA6D,aAA7D;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAA6B;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,MAAf;AAAuBC,EAAAA;AAAvB,CAA7B,KAA2E;AACjG,QAAM;AACJC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV;AADT,MAEFJ,MAFJ;AAGA,QAAMK,SAAS,GAAG;AAChBN,IAAAA,WADgB;AAEhBC,IAAAA,MAFgB;AAGhBC,IAAAA;AAHgB,GAAlB;AAMA,QAAMK,UAAU,GAAGH,MAAM,IAAIJ,WAAW,KAAKI,MAAM,CAACI,KAApD;;AACA,WAASC,WAAT,CAAqBC,KAArB,EAA8C;AAC5C,QAAIC,iBAAJ;;AACA,QAAI,CAACJ,UAAL,EAAiB;AACfI,MAAAA,iBAAiB,GAAGf,eAAe,CAACgB,GAApC;AACD,KAFD,MAEO;AACLD,MAAAA,iBAAiB,GAAGP,MAAM,CAACS,SAAP,KAAqBjB,eAAe,CAACgB,GAArC,GAA2ChB,eAAe,CAACkB,IAA3D,GAAkElB,eAAe,CAACgB,GAAtG;AACD,KAN2C,CAO5C;;;AACAP,IAAAA,MAAM,IAAIA,MAAM,CAACK,KAAD,EAAQV,WAAR,EAAqBW,iBAArB,EAAwCL,SAAxC,CAAhB;AACD;;AAED,SAAO;AACL,iBAAab,GAAG,CAACC,MAAM,CAACqB,SAAR,EAAmBR,UAAU,IAAIb,MAAM,CAACsB,SAAP,CAAiBC,QAAlD,CADX;AAEL,iBAAaV,UAAU,GAAI,GAAEH,MAAM,CAACS,SAAU,QAAvB,GAAiC,MAFnD;AAGL,gBACE,oBAAC,UAAD;AACE,MAAA,UAAU,EAAEN,UADd;AAEE,MAAA,aAAa,EAAEA,UAAU,GAAGH,MAAM,CAACS,SAAV,GAAsB,EAFjD;AAGE,MAAA,MAAM,EAAEJ,WAHV;AAIE,MAAA,SAAS,EAAEhB,GAAG,CAACE,YAAY,CAACuB,MAAd,EAAsBvB,YAAY,CAACqB,SAAb,CAAuBG,KAA7C;AAJhB,OAMGpB,KANH;AAJG,GAAP;AAcD,CApCM","sourcesContent":["import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport buttonStyles from '@patternfly/react-styles/css/components/Button/button';\nimport { SortByDirection, IExtra, IFormatterValueType } from '../../Table';\nimport { SortColumn } from '../../SortColumn';\n\nexport const sortable = (label: IFormatterValueType, { columnIndex, column, property }: IExtra) => {\n  const {\n    extraParams: { sortBy, onSort }\n  } = column;\n  const extraData = {\n    columnIndex,\n    column,\n    property\n  };\n\n  const isSortedBy = sortBy && columnIndex === sortBy.index;\n  function sortClicked(event: React.MouseEvent) {\n    let reversedDirection;\n    if (!isSortedBy) {\n      reversedDirection = SortByDirection.asc;\n    } else {\n      reversedDirection = sortBy.direction === SortByDirection.asc ? SortByDirection.desc : SortByDirection.asc;\n    }\n    // tslint:disable-next-line:no-unused-expression\n    onSort && onSort(event, columnIndex, reversedDirection, extraData);\n  }\n\n  return {\n    \"className\": css(styles.tableSort, isSortedBy && styles.modifiers.selected),\n    'aria-sort': isSortedBy ? `${sortBy.direction}ending` : 'none',\n    \"children\": (\n      <SortColumn\n        isSortedBy={isSortedBy}\n        sortDirection={isSortedBy ? sortBy.direction : ''}\n        onSort={sortClicked}\n        className={css(buttonStyles.button, buttonStyles.modifiers.plain)}\n      >\n        {label}\n      </SortColumn>\n    )\n  };\n};\n"],"file":"sortable.js"}