{"version":3,"sources":["../../../esm/helpers/PopoverBase/PopoverBase.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","REACT_ONLY_PROPS","getNativeTippyProps","props","reduce","acc","indexOf","PopoverBase","React","Component","constructor","args","isMounted","document","createElement","isReactElementContent","isValidElement","content","options","container","isManualTrigger","trigger","componentDidMount","setState","tip","tippy","one","ReactDOM","findDOMNode","onCreate","isEnabled","isVisible","disable","show","componentDidUpdate","set","enable","hide","componentWillUnmount","destroy","render","Fragment","children","state","createPortal","PropTypes","element","isRequired","oneOfType","string","bool","func","undefined"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport tippy from 'tippy.js'; // These props are not native to `tippy.js` and are specific to React only.\n\nconst REACT_ONLY_PROPS = ['children', 'onCreate', 'isVisible', 'isEnabled']; // Avoid Babel's large '_objectWithoutProperties' helper function.\n\nfunction getNativeTippyProps(props) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (REACT_ONLY_PROPS.indexOf(key) === -1) {\n      acc[key] = props[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nclass PopoverBase extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isMounted: false\n    });\n\n    _defineProperty(this, \"container\", typeof document !== 'undefined' && document.createElement('div'));\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content);\n  }\n\n  get options() {\n    return _objectSpread({}, getNativeTippyProps(this.props), {\n      content: this.isReactElementContent ? this.container : this.props.content\n    });\n  }\n\n  get isManualTrigger() {\n    return this.props.trigger === 'manual';\n  }\n\n  componentDidMount() {\n    /* eslint-disable-next-line */\n    this.setState({\n      isMounted: true\n    });\n    /* eslint-disable-next-line */\n\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options);\n    const {\n      onCreate,\n      isEnabled,\n      isVisible\n    } = this.props;\n\n    if (onCreate) {\n      onCreate(this.tip);\n    }\n\n    if (isEnabled === false) {\n      this.tip.disable();\n    }\n\n    if (this.isManualTrigger && isVisible === true) {\n      this.tip.show();\n    }\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options);\n    const {\n      isEnabled,\n      isVisible\n    } = this.props;\n\n    if (isEnabled === true) {\n      this.tip.enable();\n    }\n\n    if (isEnabled === false) {\n      this.tip.disable();\n    }\n\n    if (this.isManualTrigger) {\n      if (isVisible === true) {\n        this.tip.show();\n      }\n\n      if (isVisible === false) {\n        this.tip.hide();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.tip.destroy();\n    this.tip = null;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.props.children, this.isReactElementContent && this.state.isMounted && ReactDOM.createPortal(this.props.content, this.container));\n  }\n\n}\n\n_defineProperty(PopoverBase, \"propTypes\", {\n  children: PropTypes.element.isRequired,\n  content: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  isEnabled: PropTypes.bool,\n  isVisible: PropTypes.bool,\n  onCreate: PropTypes.func,\n  trigger: PropTypes.string\n});\n\n_defineProperty(PopoverBase, \"defaultProps\", {\n  isEnabled: undefined,\n  isVisible: undefined,\n  onCreate: undefined,\n  trigger: 'mouseenter focus'\n});\n\nexport default PopoverBase;\n//# sourceMappingURL=PopoverBase.js.map"],"file":"PopoverBase.js"}