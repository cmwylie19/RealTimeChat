{"version":3,"sources":["../../../esm/components/Dropdown/DropdownWithContext.js"],"names":["React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","DropdownWithContext","Component","constructor","props","createRef","openedOnEnter","dropdownItems","children","Error","componentDidUpdate","isOpen","render","_this$props","className","direction","isPlain","isGrouped","onSelect","position","toggle","autoFocus","id","currentId","component","renderedContent","ariaHasPopup","Children","toArray","createElement","DropdownContext","Consumer","baseClass","baseComponent","contextId","BaseComponent","DropdownDirection","up","styles","modifiers","top","expanded","ref","baseComponentRef","map","oneToggle","cloneElement","parentRef","onEnter","DropdownMenu","DropdownPosition","left","down","Function"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Dropdown/dropdown';\nimport { css } from '@patternfly/react-styles';\nimport { DropdownMenu } from './DropdownMenu';\nimport { DropdownPosition, DropdownDirection, DropdownContext } from './dropdownConstants';\nexport class DropdownWithContext extends React.Component {\n  // seed for the aria-labelledby ID\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"openedOnEnter\", false);\n\n    _defineProperty(this, \"baseComponentRef\", React.createRef());\n\n    _defineProperty(this, \"onEnter\", () => {\n      this.openedOnEnter = true;\n    });\n\n    if (props.dropdownItems && props.dropdownItems.length > 0 && props.children) {\n      throw new Error('Children and dropdownItems props have been provided. Only the dropdownItems prop items will be rendered ');\n    }\n  }\n\n  componentDidUpdate() {\n    if (!this.props.isOpen) {\n      this.openedOnEnter = false;\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      children,\n      className,\n      direction,\n      dropdownItems,\n      isOpen,\n      isPlain,\n      isGrouped,\n      onSelect,\n      position,\n      toggle,\n      autoFocus\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"className\", \"direction\", \"dropdownItems\", \"isOpen\", \"isPlain\", \"isGrouped\", \"onSelect\", \"position\", \"toggle\", \"autoFocus\"]);\n\n    const id = toggle.props.id || `pf-toggle-id-${DropdownWithContext.currentId++}`;\n    let component;\n    let renderedContent;\n    let ariaHasPopup = false;\n\n    if (dropdownItems && dropdownItems.length > 0) {\n      component = 'ul';\n      renderedContent = dropdownItems;\n      ariaHasPopup = true;\n    } else {\n      component = 'div';\n      renderedContent = React.Children.toArray(children);\n    }\n\n    const openedOnEnter = this.openedOnEnter;\n    return React.createElement(DropdownContext.Consumer, null, ({\n      baseClass,\n      baseComponent,\n      id: contextId\n    }) => {\n      const BaseComponent = baseComponent;\n      return React.createElement(BaseComponent, _extends({}, props, {\n        className: css(baseClass, direction === DropdownDirection.up && styles.modifiers.top, isOpen && styles.modifiers.expanded, className),\n        ref: this.baseComponentRef\n      }), React.Children.map(toggle, oneToggle => React.cloneElement(oneToggle, {\n        parentRef: this.baseComponentRef,\n        isOpen,\n        id,\n        isPlain,\n        ariaHasPopup,\n        onEnter: () => this.onEnter()\n      })), isOpen && React.createElement(DropdownMenu, {\n        component: component,\n        isOpen: isOpen,\n        position: position,\n        \"aria-labelledby\": contextId ? `${contextId}-toggle` : id,\n        openedOnEnter: openedOnEnter,\n        isGrouped: isGrouped,\n        autoFocus: openedOnEnter && autoFocus\n      }, renderedContent));\n    });\n  }\n\n}\n\n_defineProperty(DropdownWithContext, \"currentId\", 0);\n\n_defineProperty(DropdownWithContext, \"defaultProps\", {\n  className: '',\n  dropdownItems: [],\n  isOpen: false,\n  isPlain: false,\n  isGrouped: false,\n  position: DropdownPosition.left,\n  direction: DropdownDirection.down,\n  onSelect: Function.prototype,\n  autoFocus: true\n});\n//# sourceMappingURL=DropdownWithContext.js.map"],"file":"DropdownWithContext.js"}