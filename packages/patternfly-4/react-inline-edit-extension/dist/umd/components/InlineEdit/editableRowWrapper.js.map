{"version":3,"sources":["../../../esm/components/InlineEdit/editableRowWrapper.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","propTypes","trRef","PropTypes","func","className","string","onScroll","onResize","row","shape","isOpen","bool","isExpanded","isEditing","isTableEditing","isFirstVisible","isLastVisible","isChildEditing","isParentEditing","isLastVisibleParent","editConfig","rowProps","defaultProps","undefined","tableConfirmationMapper","TABLE_TOP","hasConfirmationButtons","isTableConfirmation","areButtonsOnTop","hasBoldBorder","getEditStyles","styles","tableEditableRow","modifiers","tableEditingFirstRow","TABLE_BOTTOM","tableEditingLastRow","ROW","editing","NO_CONFIRM_ROW","NONE","getTableConfirmation","editConfirmationType","TableEditConfirmation","editableRowWrapper","RowWrapperComponent","RowWrapper","React","Component","constructor","props","newState","setState","oldState","find","element","tableElem","closest","updateRowDimensions","setStateWith2dEquals","rowDimensions","event","fetchClientDimensions","state","window","getDerivedStateFromProps","componentDidMount","getConfirmationButtons","_this$props","onEditConfirmed","onEditCanceled","tableConfirmation","confirmButtons","options","actionObject","createElement","ConfirmButtons","onConfirm","onCancel","buttonsOnTop","boldBorder","environment","parentNode","document","body","render","trClassName","Fragment","saveRowDimensions","handleScroll","handleResize"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { css } from '@patternfly/react-styles';\nimport { combineFunctions, shallowLeftSideEquals, getBoundingClientRect, getClientWindowDimensions } from './utils/utils';\nimport ConfirmButtons from './ConfirmButtons';\nimport { TableEditConfirmation } from './constants';\nimport '@patternfly/react-styles/css/components/Table/inline-edit.css';\nimport { inlineEditStyles as styles } from './css/inline-edit-css';\nconst propTypes = {\n  trRef: PropTypes.func,\n  className: PropTypes.string,\n  onScroll: PropTypes.func,\n  onResize: PropTypes.func,\n  row: PropTypes.shape({\n    isOpen: PropTypes.bool,\n    isExpanded: PropTypes.bool,\n    isEditing: PropTypes.bool,\n    isTableEditing: PropTypes.bool,\n    isFirstVisible: PropTypes.bool,\n    isLastVisible: PropTypes.bool,\n    isChildEditing: PropTypes.bool,\n    isParentEditing: PropTypes.bool,\n    isLastVisibleParent: PropTypes.bool,\n    editConfig: PropTypes.object\n  }),\n  rowProps: PropTypes.object\n};\nconst defaultProps = {\n  trRef: undefined,\n  className: '',\n  onScroll: undefined,\n  onResize: undefined,\n  row: {\n    isOpen: undefined,\n    isExpanded: undefined,\n    isEditing: undefined,\n    isTableEditing: undefined,\n    isFirstVisible: undefined,\n    isLastVisible: undefined,\n    isChildEditing: undefined,\n    isParentEditing: undefined,\n    isLastVisibleParent: undefined,\n    editConfig: undefined\n  },\n  rowProps: null\n}; // TableEditConfirmation constants like TABLE_TOP cannot be referenced but must be hardcoded due to this issue:\n// https://github.com/reactjs/react-docgen/issues/317#issue-393678795\n\nconst tableConfirmationMapper = {\n  TABLE_TOP: {\n    hasConfirmationButtons: ({\n      isTableEditing,\n      isFirstVisible\n    }) => isTableEditing && isFirstVisible,\n    isTableConfirmation: () => true,\n    areButtonsOnTop: () => true,\n    hasBoldBorder: () => true,\n    getEditStyles: ({\n      isTableEditing,\n      isFirstVisible\n    }) => css(styles.tableEditableRow, isTableEditing && isFirstVisible && styles.modifiers.tableEditingFirstRow)\n  },\n  TABLE_BOTTOM: {\n    hasConfirmationButtons: ({\n      isTableEditing,\n      isLastVisible\n    }) => isTableEditing && isLastVisible,\n    isTableConfirmation: () => true,\n    areButtonsOnTop: () => false,\n    hasBoldBorder: () => true,\n    getEditStyles: ({\n      isTableEditing,\n      isLastVisible\n    }) => css(styles.tableEditableRow, isTableEditing && isLastVisible && styles.modifiers.tableEditingLastRow)\n  },\n  ROW: {\n    hasConfirmationButtons: ({\n      isEditing,\n      isParentEditing,\n      isLastVisibleParent,\n      isChildEditing,\n      isLastVisible\n    }) => isEditing && !(isChildEditing && isParentEditing) && // buttons can't appear in the middle\n    !(isParentEditing && isLastVisible) && // parent will show the buttons on top\n    !(isChildEditing && !isLastVisibleParent),\n    // child will show the buttons on bottom\n    isTableConfirmation: () => false,\n    areButtonsOnTop: ({\n      isLastVisible,\n      isLastVisibleParent\n    }) => isLastVisible || isLastVisibleParent,\n    hasBoldBorder: () => false,\n    getEditStyles: ({\n      isEditing\n    }) => css(styles.tableEditableRow, isEditing && styles.modifiers.editing)\n  },\n  NO_CONFIRM_ROW: {\n    hasConfirmationButtons: () => false,\n    isTableConfirmation: () => false,\n    areButtonsOnTop: () => false,\n    hasBoldBorder: () => false,\n    getEditStyles: ({\n      isEditing\n    }) => css(styles.tableEditableRow, isEditing && styles.modifiers.editing)\n  },\n  NONE: {\n    hasConfirmationButtons: () => false,\n    isTableConfirmation: () => false,\n    areButtonsOnTop: () => false,\n    hasBoldBorder: () => false,\n    getEditStyles: () => css(styles.tableEditableRow)\n  }\n};\n\nconst getTableConfirmation = ({\n  editConfig\n}) => tableConfirmationMapper[editConfig && editConfig.editConfirmationType] || tableConfirmationMapper[TableEditConfirmation.NONE];\n\nconst editableRowWrapper = RowWrapperComponent => {\n  class RowWrapper extends React.Component {\n    constructor(props) {\n      super(props);\n\n      _defineProperty(this, \"setStateWith2dEquals\", newState => {\n        this.setState(oldState => Object.keys(newState).find(key => !shallowLeftSideEquals(newState[key], oldState[key])) ? newState : null);\n      });\n\n      _defineProperty(this, \"saveRowDimensions\", element => {\n        if (element) {\n          this.element = element;\n          this.tableElem = element.closest('table');\n        }\n\n        this.updateRowDimensions();\n      });\n\n      _defineProperty(this, \"updateRowDimensions\", () => {\n        if (this.element) {\n          this.setStateWith2dEquals({\n            rowDimensions: getBoundingClientRect(this.element)\n          });\n        }\n      });\n\n      _defineProperty(this, \"handleScroll\", event => {\n        this.updateRowDimensions();\n      });\n\n      _defineProperty(this, \"handleResize\", event => {\n        this.fetchClientDimensions();\n        this.updateRowDimensions();\n      });\n\n      this.state = _objectSpread({\n        rowDimensions: {},\n        window: {}\n      }, RowWrapper.getDerivedStateFromProps(props));\n    }\n\n    componentDidMount() {\n      if (this.state.hasConfirmationButtons) {\n        this.fetchClientDimensions();\n      }\n    }\n\n    fetchClientDimensions() {\n      this.setStateWith2dEquals({\n        window: getClientWindowDimensions()\n      });\n    }\n\n    getConfirmationButtons() {\n      const _this$props = this.props,\n            {\n        row,\n        rowProps\n      } = _this$props,\n            props = _objectWithoutProperties(_this$props, [\"row\", \"rowProps\"]);\n\n      const {\n        isLastVisible,\n        isParentEditing,\n        isLastVisibleParent,\n        editConfig\n      } = row;\n\n      if (!editConfig) {\n        return null;\n      }\n\n      const {\n        onEditConfirmed,\n        onEditCanceled\n      } = editConfig;\n      const tableConfirmation = getTableConfirmation(row);\n      let confirmButtons;\n\n      if (this.element && this.state.rowDimensions) {\n        const options = tableConfirmation.isTableConfirmation() ? {} : rowProps;\n        const actionObject = tableConfirmation.isTableConfirmation() ? null : row;\n        confirmButtons = createPortal(React.createElement(ConfirmButtons, _extends({}, props, {\n          onConfirm: event => onEditConfirmed(event, actionObject, options),\n          onCancel: event => onEditCanceled(event, actionObject, options),\n          buttonsOnTop: tableConfirmation.areButtonsOnTop({\n            isLastVisible,\n            isParentEditing,\n            isLastVisibleParent\n          }),\n          boldBorder: tableConfirmation.hasBoldBorder(),\n          environment: {\n            window: this.state.window,\n            row: getBoundingClientRect(this.element)\n          }\n        })), this.tableElem ? this.tableElem.parentNode : document.body);\n      }\n\n      return confirmButtons;\n    }\n\n    render() {\n      const {\n        trRef,\n        className,\n        onScroll,\n        onResize,\n        row: {\n          isFirstVisible,\n          isLastVisible,\n          isEditing,\n          isTableEditing,\n          editConfig\n        }\n      } = this.props;\n      const {\n        hasConfirmationButtons\n      } = this.state;\n      const trClassName = getTableConfirmation({\n        editConfig\n      }).getEditStyles({\n        isEditing,\n        isTableEditing,\n        isFirstVisible,\n        isLastVisible\n      });\n      return React.createElement(React.Fragment, null, React.createElement(RowWrapperComponent, _extends({}, this.props, {\n        trRef: combineFunctions(this.saveRowDimensions, trRef),\n        className: classNames(trClassName, className),\n        onScroll: combineFunctions(hasConfirmationButtons && this.handleScroll, onScroll),\n        onResize: combineFunctions(hasConfirmationButtons && this.handleResize, onResize)\n      })), hasConfirmationButtons && this.getConfirmationButtons());\n    }\n\n  }\n\n  _defineProperty(RowWrapper, \"getDerivedStateFromProps\", (props, state) => ({\n    hasConfirmationButtons: getTableConfirmation(props.row).hasConfirmationButtons(props.row)\n  }));\n\n  RowWrapper.propTypes = propTypes;\n  RowWrapper.defaultProps = defaultProps;\n  return RowWrapper;\n};\n\nexport default editableRowWrapper;\n//# sourceMappingURL=editableRowWrapper.js.map"],"file":"editableRowWrapper.js"}