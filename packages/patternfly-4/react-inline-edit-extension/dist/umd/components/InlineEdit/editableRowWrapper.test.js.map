{"version":3,"sources":["../../../esm/components/InlineEdit/editableRowWrapper.test.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_extends","assign","prototype","hasOwnProperty","call","TestRow","trRef","React","createElement","ref","propTypes","PropTypes","func","defaultProps","getRowWrapper","row","props","RowWrapper","buildRow","editConfirmationType","TableEditConfirmation","ROW","editConfig","describe","mountOptions","container","beforeEach","attachTo","find","getDOMNode","selector","undefined","afterEach","unmount","test","jest","fn","view","onResize","onScroll","expect","toMatchSnapshot","toHaveBeenCalled","confirmationType","toHaveLength","detach","isEditing","isParentEditing","isChildEditing","isLastVisibleParent","isTableEditing","isFirstVisible","TABLE_TOP","isLastVisible","TABLE_BOTTOM","NONE","onEditConfirmed","onEditCanceled","Fragment","simulate"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { mount } from 'enzyme/build';\nimport { default as editableRowWrapper } from './editableRowWrapper';\nimport { TableEditConfirmation } from './constants';\nimport { mockClosest } from '../../test-helpers/helpers';\n\nconst TestRow = ({\n  trRef\n}) => React.createElement(\"tr\", {\n  ref: trRef\n});\n\nTestRow.propTypes = {\n  trRef: PropTypes.func\n};\nTestRow.defaultProps = {\n  trRef: null\n};\n\nconst getRowWrapper = (row, props) => {\n  const RowWrapper = editableRowWrapper(TestRow);\n  return React.createElement(RowWrapper, _extends({}, props, {\n    row: row\n  }));\n};\n\nconst buildRow = (row = {}, editConfirmationType = TableEditConfirmation.ROW) => _objectSpread({}, row, {\n  editConfig: {\n    editConfirmationType\n  }\n});\n\ndescribe('editableRowWrapper', () => {\n  let mountOptions;\n  let container;\n  beforeEach(() => {\n    container = mount(React.createElement(\"table\", null, React.createElement(\"tbody\", null)));\n    mountOptions = {\n      attachTo: container.find('tbody').getDOMNode()\n    };\n    mockClosest(null, selector => selector === 'table' ? container.getDOMNode() : undefined, true);\n  });\n  afterEach(() => {\n    container.unmount();\n  });\n  test('renders correctly', () => {\n    const trRef = jest.fn();\n    const view = mount(getRowWrapper(buildRow({}, null), {\n      onResize: jest.fn(),\n      onScroll: jest.fn(),\n      trRef\n    }), mountOptions);\n    expect(view).toMatchSnapshot();\n    expect(trRef).toHaveBeenCalled();\n  });\n  test('sets editable row classname', () => {\n    [...Object.keys(TableEditConfirmation), null].forEach(confirmationType => {\n      const view = mount(getRowWrapper(buildRow({}, confirmationType)), mountOptions);\n      expect(view.find('.pf-c-table__editable-row')).toHaveLength(1);\n      view.detach();\n    });\n  });\n  test('has inline edit buttons', () => {\n    [buildRow({\n      isEditing: true\n    }), buildRow({\n      isEditing: true,\n      isParentEditing: true\n    }), // expandable\n    buildRow({\n      isEditing: true,\n      isChildEditing: true,\n      isLastVisibleParent: true\n    }), // expandable\n    buildRow({\n      isTableEditing: true,\n      isFirstVisible: true\n    }, TableEditConfirmation.TABLE_TOP), buildRow({\n      isTableEditing: true,\n      isLastVisible: true\n    }, TableEditConfirmation.TABLE_BOTTOM)].forEach(row => {\n      const view = mount(getRowWrapper(row), mountOptions);\n      expect(view.find('.pf-c-table__inline-edit-buttons')).toHaveLength(1);\n      view.detach();\n    });\n  });\n  test('does not have inline edit buttons', () => {\n    [buildRow({\n      isEditing: true\n    }, TableEditConfirmation.NONE), buildRow({\n      isEditing: true\n    }, TableEditConfirmation.TABLE_TOP), buildRow({\n      isEditing: true\n    }, TableEditConfirmation.TABLE_BOTTOM), buildRow({\n      isEditing: true,\n      isParentEditing: true,\n      isLastVisible: true\n    }), // expandable\n    buildRow({\n      isEditing: true,\n      isChildEditing: true\n    }), // expandable\n    buildRow({\n      isTableEditing: true,\n      isLastVisible: true\n    }, TableEditConfirmation.NONE), buildRow({\n      isTableEditing: true,\n      isLastVisible: true\n    }), buildRow({\n      isTableEditing: true\n    }, TableEditConfirmation.TABLE_TOP), buildRow({\n      isTableEditing: true\n    }, TableEditConfirmation.TABLE_BOTTOM), buildRow({\n      isTableEditing: true,\n      isLastVisible: true\n    }, TableEditConfirmation.TABLE_TOP), buildRow({\n      isTableEditing: true,\n      isFirstVisible: true\n    }, TableEditConfirmation.TABLE_BOTTOM)].forEach(row => {\n      const view = mount(getRowWrapper(row), mountOptions);\n      expect(view.find('.pf-c-table__inline-edit-buttons')).toHaveLength(0);\n      view.detach();\n    });\n  });\n  test('onEditConfirmed and onEditCanceled called', () => {\n    const onEditConfirmed = jest.fn();\n    const onEditCanceled = jest.fn();\n    const row = {\n      isEditing: true,\n      editConfig: {\n        editConfirmationType: TableEditConfirmation.ROW,\n        onEditConfirmed,\n        onEditCanceled\n      }\n    };\n    const view = mount(getRowWrapper(row, null, React.Fragment), mountOptions);\n    view.find('.pf-c-table__inline-edit-buttons button.pf-c-button.pf-m-primary').simulate('mouseup');\n    expect(onEditConfirmed).toHaveBeenCalled();\n    view.find('.pf-c-table__inline-edit-buttons button.pf-c-button.pf-m-plain').simulate('mouseup');\n    expect(onEditCanceled).toHaveBeenCalled();\n  });\n});\n//# sourceMappingURL=editableRowWrapper.test.js.map"],"file":"editableRowWrapper.test.js"}