{"version":3,"sources":["../../../esm/components/AboutModal/AboutModal.js"],"names":["React","ReactDOM","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","AboutModal","Component","constructor","props","currentId","id","event","keyCode","KEY_CODES","ESCAPE_KEY","isOpen","onClose","hide","bodyChildren","document","body","children","child","Array","from","state","container","setAttribute","removeAttribute","undefined","brandImageSrc","brandImageAlt","console","error","componentDidMount","createElement","setState","appendChild","addEventListener","handleEscKeyClick","classList","add","styles","backdropOpen","remove","componentDidUpdate","toggleSiblingsFromScreenReaders","componentWillUnmount","removeChild","removeEventListener","render","canUseDOM","createPortal","AboutModalContainer","ariaLabelledbyId","ariaLabelledBy","ariaDescribedById","ariaDescribedBy","_pt","node","isRequired","className","string","bool","func","productName","trademark","backgroundImageSrc","noAboutModalBoxContentContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;MAMYA,K;;MACAC,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALZ,WAASC,QAAT,GAAoB;AAAEA,IAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,YAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,aAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,cAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,YAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,aAAOL,MAAP;AAAgB,KAA5P;;AAA8P,WAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,WAASQ,eAAT,CAAyBC,GAAzB,EAA8BN,GAA9B,EAAmCO,KAAnC,EAA0C;AAAE,QAAIP,GAAG,IAAIM,GAAX,EAAgB;AAAEb,MAAAA,MAAM,CAACe,cAAP,CAAsBF,GAAtB,EAA2BN,GAA3B,EAAgC;AAAEO,QAAAA,KAAK,EAAEA,KAAT;AAAgBE,QAAAA,UAAU,EAAE,IAA5B;AAAkCC,QAAAA,YAAY,EAAE,IAAhD;AAAsDC,QAAAA,QAAQ,EAAE;AAAhE,OAAhC;AAA0G,KAA5H,MAAkI;AAAEL,MAAAA,GAAG,CAACN,GAAD,CAAH,GAAWO,KAAX;AAAmB;;AAAC,WAAOD,GAAP;AAAa;;AAS1M,QAAMM,UAAN,SAAyBtB,KAAK,CAACuB,SAA/B,CAAyC;AAC9CC,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;;AAEAV,MAAAA,eAAe,CAAC,IAAD,EAAO,IAAP,EAAaO,UAAU,CAACI,SAAX,EAAb,CAAf;;AAEAX,MAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAA0B,wBAAuB,KAAKY,EAAG,EAAzD,CAAf;;AAEAZ,MAAAA,eAAe,CAAC,IAAD,EAAO,iBAAP,EAA2B,0BAAyB,KAAKY,EAAG,EAA5D,CAAf;;AAEAZ,MAAAA,eAAe,CAAC,IAAD,EAAO,mBAAP,EAA4Ba,KAAK,IAAI;AAClD,YAAIA,KAAK,CAACC,OAAN,KAAkBC,qBAAUC,UAA5B,IAA0C,KAAKN,KAAL,CAAWO,MAAzD,EAAiE;AAC/D,eAAKP,KAAL,CAAWQ,OAAX;AACD;AACF,OAJc,CAAf;;AAMAlB,MAAAA,eAAe,CAAC,IAAD,EAAO,iCAAP,EAA0CmB,IAAI,IAAI;AAC/D,cAAMC,YAAY,GAAGC,QAAQ,CAACC,IAAT,CAAcC,QAAnC;;AAEA,aAAK,MAAMC,KAAX,IAAoBC,KAAK,CAACC,IAAN,CAAWN,YAAX,CAApB,EAA8C;AAC5C,cAAII,KAAK,KAAK,KAAKG,KAAL,CAAWC,SAAzB,EAAoC;AAClCT,YAAAA,IAAI,GAAGK,KAAK,CAACK,YAAN,CAAmB,aAAnB,EAAkC,KAAKV,IAAvC,CAAH,GAAkDK,KAAK,CAACM,eAAN,CAAsB,aAAtB,CAAtD;AACD;AACF;AACF,OARc,CAAf;;AAUA,WAAKH,KAAL,GAAa;AACXC,QAAAA,SAAS,EAAEG;AADA,OAAb;;AAIA,UAAIrB,KAAK,CAACsB,aAAN,IAAuB,CAACtB,KAAK,CAACuB,aAAlC,EAAiD;AAC/C;AACAC,QAAAA,OAAO,CAACC,KAAR,CAAc,aAAd,EAA6B,6DAA7B;AACD;AACF;;AAEDC,IAAAA,iBAAiB,GAAG;AAClB,YAAMR,SAAS,GAAGP,QAAQ,CAACgB,aAAT,CAAuB,KAAvB,CAAlB;AACA,WAAKC,QAAL,CAAc;AACZV,QAAAA;AADY,OAAd;AAGAP,MAAAA,QAAQ,CAACC,IAAT,CAAciB,WAAd,CAA0BX,SAA1B;AACAP,MAAAA,QAAQ,CAACmB,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,iBAA1C,EAA6D,KAA7D;;AAEA,UAAI,KAAK/B,KAAL,CAAWO,MAAf,EAAuB;AACrBI,QAAAA,QAAQ,CAACC,IAAT,CAAcoB,SAAd,CAAwBC,GAAxB,CAA4B,sBAAIC,mBAAOC,YAAX,CAA5B;AACD,OAFD,MAEO;AACLxB,QAAAA,QAAQ,CAACC,IAAT,CAAcoB,SAAd,CAAwBI,MAAxB,CAA+B,sBAAIF,mBAAOC,YAAX,CAA/B;AACD;AACF;;AAEDE,IAAAA,kBAAkB,GAAG;AACnB,UAAI,KAAKrC,KAAL,CAAWO,MAAf,EAAuB;AACrBI,QAAAA,QAAQ,CAACC,IAAT,CAAcoB,SAAd,CAAwBC,GAAxB,CAA4B,sBAAIC,mBAAOC,YAAX,CAA5B;AACA,aAAKG,+BAAL,CAAqC,IAArC;AACD,OAHD,MAGO;AACL3B,QAAAA,QAAQ,CAACC,IAAT,CAAcoB,SAAd,CAAwBI,MAAxB,CAA+B,sBAAIF,mBAAOC,YAAX,CAA/B;AACA,aAAKG,+BAAL,CAAqC,KAArC;AACD;AACF;;AAEDC,IAAAA,oBAAoB,GAAG;AACrB,UAAI,KAAKtB,KAAL,CAAWC,SAAf,EAA0B;AACxBP,QAAAA,QAAQ,CAACC,IAAT,CAAc4B,WAAd,CAA0B,KAAKvB,KAAL,CAAWC,SAArC;AACD;;AAEDP,MAAAA,QAAQ,CAAC8B,mBAAT,CAA6B,SAA7B,EAAwC,KAAKV,iBAA7C,EAAgE,KAAhE;AACD;;AAEDW,IAAAA,MAAM,GAAG;AACP,YAAM1C,KAAK,GAAGvB,QAAQ,CAAC,EAAD,EAAK,KAAKuB,KAAV,CAAtB;;AAEA,YAAM;AACJkB,QAAAA;AADI,UAEF,KAAKD,KAFT;;AAIA,UAAI,CAAC0B,gBAAD,IAAc,CAACzB,SAAnB,EAA8B;AAC5B,eAAO,IAAP;AACD;;AAED,aAAO1C,QAAQ,CAACoE,YAAT,CAAsBrE,KAAK,CAACoD,aAAN,CAAoBkB,wCAApB,EAAyCpE,QAAQ,CAAC;AAC7EqE,QAAAA,gBAAgB,EAAE,KAAKC,cADsD;AAE7EC,QAAAA,iBAAiB,EAAE,KAAKC;AAFqD,OAAD,EAG3EjD,KAH2E,CAAjD,CAAtB,EAGKkB,SAHL,CAAP;AAID;;AApF6C;;UAAnCrB,U,GAAAA,U;;AAwFbP,EAAAA,eAAe,CAACO,UAAD,EAAa,WAAb,EAA0B;AACvCgB,IAAAA,QAAQ,EAAEqC,oBAAIC,IAAJ,CAASC,UADoB;AAEvCC,IAAAA,SAAS,EAAEH,oBAAII,MAFwB;AAGvC/C,IAAAA,MAAM,EAAE2C,oBAAIK,IAH2B;AAIvC/C,IAAAA,OAAO,EAAE0C,oBAAIM,IAJ0B;AAKvCC,IAAAA,WAAW,EAAEP,oBAAII,MALsB;AAMvCI,IAAAA,SAAS,EAAER,oBAAII,MANwB;AAOvChC,IAAAA,aAAa,EAAE4B,oBAAII,MAAJ,CAAWF,UAPa;AAQvC7B,IAAAA,aAAa,EAAE2B,oBAAII,MAAJ,CAAWF,UARa;AASvCO,IAAAA,kBAAkB,EAAET,oBAAII,MATe;AAUvCM,IAAAA,+BAA+B,EAAEV,oBAAIK;AAVE,GAA1B,CAAf;;AAaAjE,EAAAA,eAAe,CAACO,UAAD,EAAa,WAAb,EAA0B,CAA1B,CAAf;;AAEAP,EAAAA,eAAe,CAACO,UAAD,EAAa,cAAb,EAA6B;AAC1CwD,IAAAA,SAAS,EAAE,EAD+B;AAE1C9C,IAAAA,MAAM,EAAE,KAFkC;AAG1CC,IAAAA,OAAO,EAAE,MAAMa,SAH2B;AAI1CoC,IAAAA,WAAW,EAAE,EAJ6B;AAK1CC,IAAAA,SAAS,EAAE,EAL+B;AAM1CC,IAAAA,kBAAkB,EAAE,EANsB;AAO1CC,IAAAA,+BAA+B,EAAE;AAPS,GAA7B,CAAf","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Backdrop/backdrop';\nimport { canUseDOM } from 'exenv';\nimport { KEY_CODES } from '../../helpers/constants';\nimport { AboutModalContainer } from './AboutModalContainer';\nexport class AboutModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"id\", AboutModal.currentId++);\n\n    _defineProperty(this, \"ariaLabelledBy\", `pf-about-modal-title-${this.id}`);\n\n    _defineProperty(this, \"ariaDescribedBy\", `pf-about-modal-content-${this.id}`);\n\n    _defineProperty(this, \"handleEscKeyClick\", event => {\n      if (event.keyCode === KEY_CODES.ESCAPE_KEY && this.props.isOpen) {\n        this.props.onClose();\n      }\n    });\n\n    _defineProperty(this, \"toggleSiblingsFromScreenReaders\", hide => {\n      const bodyChildren = document.body.children;\n\n      for (const child of Array.from(bodyChildren)) {\n        if (child !== this.state.container) {\n          hide ? child.setAttribute('aria-hidden', '' + hide) : child.removeAttribute('aria-hidden');\n        }\n      }\n    });\n\n    this.state = {\n      container: undefined\n    };\n\n    if (props.brandImageSrc && !props.brandImageAlt) {\n      // tslint:disable-next-line:no-console\n      console.error('AboutModal:', 'brandImageAlt is required when a brandImageSrc is specified');\n    }\n  }\n\n  componentDidMount() {\n    const container = document.createElement('div');\n    this.setState({\n      container\n    });\n    document.body.appendChild(container);\n    document.addEventListener('keydown', this.handleEscKeyClick, false);\n\n    if (this.props.isOpen) {\n      document.body.classList.add(css(styles.backdropOpen));\n    } else {\n      document.body.classList.remove(css(styles.backdropOpen));\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.isOpen) {\n      document.body.classList.add(css(styles.backdropOpen));\n      this.toggleSiblingsFromScreenReaders(true);\n    } else {\n      document.body.classList.remove(css(styles.backdropOpen));\n      this.toggleSiblingsFromScreenReaders(false);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.container) {\n      document.body.removeChild(this.state.container);\n    }\n\n    document.removeEventListener('keydown', this.handleEscKeyClick, false);\n  }\n\n  render() {\n    const props = _extends({}, this.props);\n\n    const {\n      container\n    } = this.state;\n\n    if (!canUseDOM || !container) {\n      return null;\n    }\n\n    return ReactDOM.createPortal(React.createElement(AboutModalContainer, _extends({\n      ariaLabelledbyId: this.ariaLabelledBy,\n      ariaDescribedById: this.ariaDescribedBy\n    }, props)), container);\n  }\n\n}\n\n_defineProperty(AboutModal, \"propTypes\", {\n  children: _pt.node.isRequired,\n  className: _pt.string,\n  isOpen: _pt.bool,\n  onClose: _pt.func,\n  productName: _pt.string,\n  trademark: _pt.string,\n  brandImageSrc: _pt.string.isRequired,\n  brandImageAlt: _pt.string.isRequired,\n  backgroundImageSrc: _pt.string,\n  noAboutModalBoxContentContainer: _pt.bool\n});\n\n_defineProperty(AboutModal, \"currentId\", 0);\n\n_defineProperty(AboutModal, \"defaultProps\", {\n  className: '',\n  isOpen: false,\n  onClose: () => undefined,\n  productName: '',\n  trademark: '',\n  backgroundImageSrc: '',\n  noAboutModalBoxContentContainer: false\n});\n//# sourceMappingURL=AboutModal.js.map"],"file":"AboutModal.js"}