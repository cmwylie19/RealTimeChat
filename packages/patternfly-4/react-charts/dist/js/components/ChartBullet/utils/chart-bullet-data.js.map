{"version":3,"sources":["../../../../../src/components/ChartBullet/utils/chart-bullet-data.ts"],"names":["getComparativeErrorMeasureData","data","themeColor","themeVariant","theme","y","getComparativeMeasureData","datum","Data","formatData","forEach","dataPoint","index","push","_index","computedData","map","x","_x","y0","_y","_y0","_color","bar","style","fill","getComparativeWarningMeasureData","getPrimaryDotMeasureData","invert","getPrimarySegmentedMeasureData","negativeMeasureTheme","negativeDatum","positiveDatum","negativeComputedData","sort","a","b","group","colorScale","length","reverse","positiveComputedData","getQualitativeRangeData"],"mappings":";;;;;;;AACA;;AAEA;;;;;;;;;;;;;;;;AAqBO,IAAMA,8BAA8B,GAAG,SAAjCA,8BAAiC,OAQd;AAAA,MAP9BC,IAO8B,QAP9BA,IAO8B;AAAA,MAN9BC,UAM8B,QAN9BA,UAM8B;AAAA,MAL9BC,YAK8B,QAL9BA,YAK8B;AAAA,wBAF9BC,KAE8B;AAAA,MAF9BA,KAE8B,2BAFtB,uDAAsCF,UAAtC,EAAkDC,YAAlD,CAEsB;AAAA,MAD9BE,CAC8B,QAD9BA,CAC8B;AAC9B,SAAOC,yBAAyB,CAAC;AAC/BL,IAAAA,IAAI,EAAJA,IAD+B;AAE/BG,IAAAA,KAAK,EAALA,KAF+B;AAG/BF,IAAAA,UAAU,EAAVA,UAH+B;AAI/BC,IAAAA,YAAY,EAAZA,YAJ+B;AAK/BE,IAAAA,CAAC,EAADA;AAL+B,GAAD,CAAhC;AAOD,CAhBM;;;;AAkBA,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,QAQT;AAAA,MAP9BL,IAO8B,SAP9BA,IAO8B;AAAA,MAN9BC,UAM8B,SAN9BA,UAM8B;AAAA,MAL9BC,YAK8B,SAL9BA,YAK8B;AAAA,0BAF9BC,KAE8B;AAAA,MAF9BA,KAE8B,4BAFtB,kDAAiCF,UAAjC,EAA6CC,YAA7C,CAEsB;AAAA,MAD9BE,CAC8B,SAD9BA,CAC8B;AAC9B,MAAME,KAAY,GAAG,EAArB;;AAEAC,oBAAKC,UAAL,CAAgBR,IAAhB,EAAsB;AAACI,IAAAA,CAAC,EAADA;AAAD,GAAtB,EAA2B,CAAC,GAAD,CAA3B,EAAkCK,OAAlC,CAA2C,UAACC,SAAD,EAAiBC,KAAjB,EAAmC;AAC5EL,IAAAA,KAAK,CAACM,IAAN,mBACKF,SADL;AAEEG,MAAAA,MAAM,EAAEF,KAFV,CAEgB;;AAFhB;AAID,GALD;;AAOA,MAAMG,YAAY,GAAGR,KAAK,CAACS,GAAN,CAAU,UAACL,SAAD,EAAiBC,KAAjB,EAAmC;AAChE,6BACKD,SADL;AAEEM,MAAAA,CAAC,EAAE,CAFL;AAGEC,MAAAA,EAAE,EAAE,CAHN;AAIEC,MAAAA,EAAE,EAAER,SAAS,CAACS,EAJhB;AAKEC,MAAAA,GAAG,EAAEV,SAAS,CAACS,EALjB;AAMEE,MAAAA,MAAM,EAAElB,KAAK,CAACmB,GAAN,CAAUC,KAAV,CAAgBvB,IAAhB,CAAqBwB,IAN/B,CAMoC;;AANpC;AAQD,GAToB,CAArB;AAUA,SAAOV,YAAP;AACD,CA7BM;;;;AA+BA,IAAMW,gCAAgC,GAAG,SAAnCA,gCAAmC,QAQhB;AAAA,MAP9BzB,IAO8B,SAP9BA,IAO8B;AAAA,MAN9BC,UAM8B,SAN9BA,UAM8B;AAAA,MAL9BC,YAK8B,SAL9BA,YAK8B;AAAA,0BAF9BC,KAE8B;AAAA,MAF9BA,KAE8B,4BAFtB,yDAAwCF,UAAxC,EAAoDC,YAApD,CAEsB;AAAA,MAD9BE,CAC8B,SAD9BA,CAC8B;AAC9B,SAAOC,yBAAyB,CAAC;AAC/BL,IAAAA,IAAI,EAAJA,IAD+B;AAE/BG,IAAAA,KAAK,EAALA,KAF+B;AAG/BF,IAAAA,UAAU,EAAVA,UAH+B;AAI/BC,IAAAA,YAAY,EAAZA,YAJ+B;AAK/BE,IAAAA,CAAC,EAADA;AAL+B,GAAD,CAAhC;AAOD,CAhBM;;;;AAkBA,IAAMsB,wBAAwB,GAAG,SAA3BA,wBAA2B,QAUR;AAAA,MAT9B1B,IAS8B,SAT9BA,IAS8B;AAAA,MAR9B2B,MAQ8B,SAR9BA,MAQ8B;AAAA,MAP9B1B,UAO8B,SAP9BA,UAO8B;AAAA,MAN9BC,YAM8B,SAN9BA,YAM8B;AAAA,0BAH9BC,KAG8B;AAAA,MAH9BA,KAG8B,4BAHtB,iDAAgCF,UAAhC,EAA4CC,YAA5C,CAGsB;AAAA,MAF9BE,CAE8B,SAF9BA,CAE8B;AAAA,MAD9Bc,EAC8B,SAD9BA,EAC8B;AAC9B,SAAOb,yBAAyB,CAAC;AAC/BL,IAAAA,IAAI,EAAJA,IAD+B;AAE/B2B,IAAAA,MAAM,EAANA,MAF+B;AAG/BxB,IAAAA,KAAK,EAALA,KAH+B;AAI/BF,IAAAA,UAAU,EAAVA,UAJ+B;AAK/BC,IAAAA,YAAY,EAAZA,YAL+B;AAM/BE,IAAAA,CAAC,EAADA,CAN+B;AAO/Bc,IAAAA,EAAE,EAAFA;AAP+B,GAAD,CAAhC;AASD,CApBM;;;;AAsBA,IAAMU,8BAA8B,GAAG,SAAjCA,8BAAiC,QAWd;AAAA,MAV9B5B,IAU8B,SAV9BA,IAU8B;AAAA,MAT9B2B,MAS8B,SAT9BA,MAS8B;AAAA,MAR9B1B,UAQ8B,SAR9BA,UAQ8B;AAAA,MAP9BC,YAO8B,SAP9BA,YAO8B;AAAA,0BAJ9BC,KAI8B;AAAA,MAJ9BA,KAI8B,4BAJtB,uDAAsCF,UAAtC,EAAkDC,YAAlD,CAIsB;AAAA,oCAH9B2B,oBAG8B;AAAA,MAH9BA,oBAG8B,sCAHP,sDAAqC5B,UAArC,EAAiDC,YAAjD,CAGO;AAAA,MAF9BE,CAE8B,SAF9BA,CAE8B;AAAA,MAD9Bc,EAC8B,SAD9BA,EAC8B;AAC9B,MAAMY,aAAoB,GAAG,EAA7B;AACA,MAAMC,aAAoB,GAAG,EAA7B;;AAEAxB,oBAAKC,UAAL,CAAgBR,IAAhB,EAAsB;AAACI,IAAAA,CAAC,EAADA,CAAD;AAAIc,IAAAA,EAAE,EAAFA;AAAJ,GAAtB,EAA+B,CAAC,GAAD,EAAM,IAAN,CAA/B,EAA4CT,OAA5C,CAAqD,UAACC,SAAD,EAAiBC,KAAjB,EAAmC;AACtF,QAAID,SAAS,CAACS,EAAV,GAAe,CAAnB,EAAsB;AACpBW,MAAAA,aAAa,CAAClB,IAAd,mBACKF,SADL;AAEEG,QAAAA,MAAM,EAAEF,KAFV,CAEgB;;AAFhB;AAID,KALD,MAKO;AACLoB,MAAAA,aAAa,CAACnB,IAAd,mBACKF,SADL;AAEEG,QAAAA,MAAM,EAAEF,KAFV,CAEgB;;AAFhB;AAID;AACF,GAZD,EAJ8B,CAkB9B;;;AACA,MAAMqB,oBAAoB,GAAGF,aAAa,CAACG,IAAd,CAAmB,UAACC,CAAD,EAASC,CAAT;AAAA,WAAoBA,CAAC,CAAChB,EAAF,GAAOe,CAAC,CAACf,EAA7B;AAAA,GAAnB,EAC3BJ,GAD2B,CACvB,UAACL,SAAD,EAAiBC,KAAjB,EAAmC;AACrC,6BACKD,SADL;AAEEM,MAAAA,CAAC,EAAE,CAFL;AAGEC,MAAAA,EAAE,EAAE,CAHN;AAIEI,MAAAA,MAAM,EAAEM,MAAM,GACVxB,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuB1B,KAAK,GAAGR,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuBC,MAAtD,CADU,GAEVT,oBAAoB,CAACO,KAArB,CAA2BC,UAA3B,CAAsC1B,KAAK,GAAGR,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuBC,MAArE;AANN,OADqC,CASrC;AACD,GAX0B,EAWxBC,OAXwB,EAA7B,CAnB8B,CAgC9B;;AACA,MAAMC,oBAAoB,GAAGT,aAAa,CAACE,IAAd,CAAmB,UAACC,CAAD,EAASC,CAAT;AAAA,WAAoBD,CAAC,CAACf,EAAF,GAAOgB,CAAC,CAAChB,EAA7B;AAAA,GAAnB,EAC3BJ,GAD2B,CACvB,UAACL,SAAD,EAAiBC,KAAjB,EAAmC;AACrC,6BACKD,SADL;AAEEM,MAAAA,CAAC,EAAE,CAFL;AAGEC,MAAAA,EAAE,EAAE,CAHN;AAIEI,MAAAA,MAAM,EAAEM,MAAM,GACVE,oBAAoB,CAACO,KAArB,CAA2BC,UAA3B,CAAsC1B,KAAK,GAAGR,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuBC,MAArE,CADU,GAEVnC,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuB1B,KAAK,GAAGR,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuBC,MAAtD;AANN,OADqC,CASrC;AACD,GAX0B,EAWxBC,OAXwB,EAA7B;AAaA,sCACKP,oBADL,sBAEKQ,oBAFL;AAID,CA7DM;;;;AA+DA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,QAUP;AAAA,MAT9BzC,IAS8B,SAT9BA,IAS8B;AAAA,MAR9B2B,MAQ8B,SAR9BA,MAQ8B;AAAA,MAP9B1B,UAO8B,SAP9BA,UAO8B;AAAA,MAN9BC,YAM8B,SAN9BA,YAM8B;AAAA,0BAH9BC,KAG8B;AAAA,MAH9BA,KAG8B,4BAHtB,gDAA+BF,UAA/B,EAA2CC,YAA3C,CAGsB;AAAA,MAF9BE,CAE8B,SAF9BA,CAE8B;AAAA,MAD9Bc,EAC8B,SAD9BA,EAC8B;AAC9B,MAAMZ,KAAY,GAAG,EAArB;;AAEAC,oBAAKC,UAAL,CAAgBR,IAAhB,EAAsB;AAACI,IAAAA,CAAC,EAADA,CAAD;AAAIc,IAAAA,EAAE,EAAFA;AAAJ,GAAtB,EAA+B,CAAC,GAAD,EAAM,IAAN,CAA/B,EAA4CT,OAA5C,CAAqD,UAACC,SAAD,EAAiBC,KAAjB,EAAmC;AACtFL,IAAAA,KAAK,CAACM,IAAN,mBACKF,SADL;AAEEG,MAAAA,MAAM,EAAEF,KAFV,CAEgB;;AAFhB;AAID,GALD;;AAOA,MAAMG,YAAY,GAAGR,KAAK,CAAC2B,IAAN,CAAW,UAACC,CAAD,EAASC,CAAT;AAAA,WAAoBR,MAAM,GAAGQ,CAAC,CAAChB,EAAF,GAAOe,CAAC,CAACf,EAAZ,GAAiBe,CAAC,CAACf,EAAF,GAAOgB,CAAC,CAAChB,EAApD;AAAA,GAAX,EACnBJ,GADmB,CACf,UAACL,SAAD,EAAiBC,KAAjB,EAAmC;AACrC,6BACKD,SADL;AAEEM,MAAAA,CAAC,EAAE,CAFL;AAGEC,MAAAA,EAAE,EAAE,CAHN;AAIE;AACAI,MAAAA,MAAM,EAAElB,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuB1B,KAAK,GAAGR,KAAK,CAACiC,KAAN,CAAYC,UAAZ,CAAuBC,MAAtD;AALV,OADqC,CAQrC;AACD,GAVkB,EAUhBC,OAVgB,EAArB;AAYA,SAAOzB,YAAP;AACD,CAjCM","sourcesContent":["import { DataGetterPropType } from 'victory';\nimport { Data } from 'victory-core';\nimport { ChartThemeDefinition } from '../../ChartTheme';\nimport {\n  getBulletComparativeErrorMeasureTheme,\n  getBulletComparativeMeasureTheme,\n  getBulletComparativeWarningMeasureTheme,\n  getBulletPrimaryDotMeasureTheme,\n  getBulletPrimaryNegativeMeasureTheme,\n  getBulletPrimarySegmentedMeasureTheme,\n  getBulletQualitativeRangeTheme\n} from '../../ChartUtils';\n\ninterface ChartBulletDataInterface {\n  data?: any[];\n  invert?: boolean;\n  negativeMeasureTheme?: ChartThemeDefinition;\n  theme?: ChartThemeDefinition;\n  themeColor?: string;\n  themeVariant?: string;\n  y?: DataGetterPropType;\n  y0?: DataGetterPropType;\n}\n\nexport const getComparativeErrorMeasureData = ({\n  data,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletComparativeErrorMeasureTheme(themeColor, themeVariant),\n  y\n}: ChartBulletDataInterface) => {\n  return getComparativeMeasureData({\n    data,\n    theme,\n    themeColor,\n    themeVariant,\n    y\n  });\n};\n\nexport const getComparativeMeasureData = ({\n  data,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletComparativeMeasureTheme(themeColor, themeVariant),\n  y\n}: ChartBulletDataInterface) => {\n  const datum: any[] = [];\n\n  Data.formatData(data, {y}, ['y']).forEach(((dataPoint: any, index: number) => {\n    datum.push({\n      ...dataPoint,\n      _index: index // Save to sync legend color\n    });\n  }));\n\n  const computedData = datum.map((dataPoint: any, index: number) => {\n    return {\n      ...dataPoint,\n      x: 1,\n      _x: 1,\n      y0: dataPoint._y,\n      _y0: dataPoint._y,\n      _color: theme.bar.style.data.fill // Save to sync legend color\n    };\n  });\n  return computedData;\n};\n\nexport const getComparativeWarningMeasureData = ({\n  data,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletComparativeWarningMeasureTheme(themeColor, themeVariant),\n  y\n}: ChartBulletDataInterface) => {\n  return getComparativeMeasureData({\n    data,\n    theme,\n    themeColor,\n    themeVariant,\n    y\n  });\n};\n\nexport const getPrimaryDotMeasureData = ({\n  data,\n  invert,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletPrimaryDotMeasureTheme(themeColor, themeVariant),\n  y,\n  y0\n}: ChartBulletDataInterface) => {\n  return getComparativeMeasureData({\n    data,\n    invert,\n    theme,\n    themeColor,\n    themeVariant,\n    y,\n    y0\n  });\n};\n\nexport const getPrimarySegmentedMeasureData = ({\n  data,\n  invert,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletPrimarySegmentedMeasureTheme(themeColor, themeVariant),\n  negativeMeasureTheme = getBulletPrimaryNegativeMeasureTheme(themeColor, themeVariant),\n  y,\n  y0\n}: ChartBulletDataInterface) => {\n  const negativeDatum: any[] = [];\n  const positiveDatum: any[] = [];\n\n  Data.formatData(data, {y, y0}, ['y', 'y0']).forEach(((dataPoint: any, index: number) => {\n    if (dataPoint._y < 0) {\n      negativeDatum.push({\n        ...dataPoint,\n        _index: index // Save to sync legend color\n      });\n    } else {\n      positiveDatum.push({\n        ...dataPoint,\n        _index: index // Save to sync legend color\n      });\n    }\n  }));\n\n  // Instead of relying on colorScale, colors must be added to each measure in ascending order\n  const negativeComputedData = negativeDatum.sort((a: any, b: any) => b._y - a._y).\n    map((dataPoint: any, index: number) => {\n      return {\n        ...dataPoint,\n        x: 1,\n        _x: 1,\n        _color: invert\n          ? theme.group.colorScale[index % theme.group.colorScale.length]\n          : negativeMeasureTheme.group.colorScale[index % theme.group.colorScale.length]\n      };\n      // Sort descending so largest bar is appears behind others\n    }).reverse();\n\n  // Instead of relying on colorScale, colors must be added to each measure in ascending order\n  const positiveComputedData = positiveDatum.sort((a: any, b: any) => a._y - b._y).\n    map((dataPoint: any, index: number) => {\n      return {\n        ...dataPoint,\n        x: 1,\n        _x: 1,\n        _color: invert\n          ? negativeMeasureTheme.group.colorScale[index % theme.group.colorScale.length]\n          : theme.group.colorScale[index % theme.group.colorScale.length]\n      };\n      // Sort descending so largest bar is appears behind others\n    }).reverse();\n\n  return [\n    ...negativeComputedData,\n    ...positiveComputedData\n  ];\n};\n\nexport const getQualitativeRangeData = ({\n  data,\n  invert,\n  themeColor,\n  themeVariant,\n\n  // destructure last\n  theme = getBulletQualitativeRangeTheme(themeColor, themeVariant),\n  y,\n  y0\n}: ChartBulletDataInterface) => {\n  const datum: any[] = [];\n\n  Data.formatData(data, {y, y0}, ['y', 'y0']).forEach(((dataPoint: any, index: number) => {\n    datum.push({\n      ...dataPoint,\n      _index: index // Save to sync legend color\n    });\n  }));\n\n  const computedData = datum.sort((a: any, b: any) => invert ? b._y - a._y : a._y - b._y).\n    map((dataPoint: any, index: number) => {\n      return {\n        ...dataPoint,\n        x: 1,\n        _x: 1,\n        // Instead of relying on colorScale, colors must be added to each measure in ascending order\n        _color: theme.group.colorScale[index % theme.group.colorScale.length]\n      };\n      // Sort descending so largest bar is appears behind others\n    }).reverse();\n\n  return computedData;\n};\n"],"file":"chart-bullet-data.js"}