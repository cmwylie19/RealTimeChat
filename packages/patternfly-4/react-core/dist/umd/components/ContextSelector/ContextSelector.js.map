{"version":3,"sources":["../../../esm/components/ContextSelector/ContextSelector.js"],"names":["FocusTrap","React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","currentId","newId","ContextSelector","Component","constructor","args","createRef","event","charCode","KEY_CODES","ENTER","props","onSearchButtonClick","render","toggleId","screenReaderLabelId","searchButtonId","_this$props","children","className","isOpen","onToggle","onSelect","screenReaderLabel","toggleText","searchButtonAriaLabel","searchInputValue","onSearchInputChange","searchInputPlaceholder","createElement","styles","contextSelector","modifiers","expanded","ref","parentRef","id","hidden","ContextSelectorToggle","current","contextSelectorMenu","focusTrapOptions","clickOutsideDeactivates","contextSelectorMenuInput","InputGroup","TextInput","type","placeholder","onChange","onKeyPress","onEnterPressed","Button","variant","ButtonVariant","control","onClick","SearchIcon","ContextSelectorContext","Provider","ContextSelectorMenuList","_pt","node","string","bool","func","undefined"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/ContextSelector/context-selector';\nimport { css } from '@patternfly/react-styles';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { ContextSelectorToggle } from './ContextSelectorToggle';\nimport { ContextSelectorMenuList } from './ContextSelectorMenuList';\nimport { ContextSelectorContext } from './contextSelectorConstants';\nimport { Button, ButtonVariant } from '../Button';\nimport { TextInput } from '../TextInput';\nimport { InputGroup } from '../InputGroup';\nimport { KEY_CODES } from '../../helpers/constants'; // Can't use ES6 imports :(\n// The types for it are also wrong, we should probably ditch this dependency.\n// tslint:disable-next-line\n\nconst FocusTrap = require('focus-trap-react'); // seed for the aria-labelledby ID\n\n\nlet currentId = 0;\nconst newId = currentId++;\nexport class ContextSelector extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"parentRef\", React.createRef());\n\n    _defineProperty(this, \"onEnterPressed\", event => {\n      if (event.charCode === KEY_CODES.ENTER) {\n        this.props.onSearchButtonClick();\n      }\n    });\n  }\n\n  render() {\n    const toggleId = `pf-context-selector-toggle-id-${newId}`;\n    const screenReaderLabelId = `pf-context-selector-label-id-${newId}`;\n    const searchButtonId = `pf-context-selector-search-button-id-${newId}`;\n\n    const _this$props = this.props,\n          {\n      children,\n      className,\n      isOpen,\n      onToggle,\n      onSelect,\n      screenReaderLabel,\n      toggleText,\n      searchButtonAriaLabel,\n      searchInputValue,\n      onSearchInputChange,\n      searchInputPlaceholder,\n      onSearchButtonClick\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"className\", \"isOpen\", \"onToggle\", \"onSelect\", \"screenReaderLabel\", \"toggleText\", \"searchButtonAriaLabel\", \"searchInputValue\", \"onSearchInputChange\", \"searchInputPlaceholder\", \"onSearchButtonClick\"]);\n\n    return React.createElement(\"div\", _extends({\n      className: css(styles.contextSelector, isOpen && styles.modifiers.expanded, className),\n      ref: this.parentRef\n    }, props), screenReaderLabel && React.createElement(\"span\", {\n      id: screenReaderLabelId,\n      hidden: true\n    }, screenReaderLabel), React.createElement(ContextSelectorToggle, {\n      onToggle: onToggle,\n      isOpen: isOpen,\n      toggleText: toggleText,\n      id: toggleId,\n      parentRef: this.parentRef.current,\n      \"aria-labelledby\": `${screenReaderLabelId} ${toggleId}`\n    }), isOpen && React.createElement(\"div\", {\n      className: css(styles.contextSelectorMenu)\n    }, isOpen && React.createElement(FocusTrap, {\n      focusTrapOptions: {\n        clickOutsideDeactivates: true\n      }\n    }, React.createElement(\"div\", {\n      className: css(styles.contextSelectorMenuInput)\n    }, React.createElement(InputGroup, null, React.createElement(TextInput, {\n      value: searchInputValue,\n      type: \"search\",\n      placeholder: searchInputPlaceholder,\n      onChange: onSearchInputChange,\n      onKeyPress: this.onEnterPressed,\n      \"aria-labelledby\": searchButtonId\n    }), React.createElement(Button, {\n      variant: ButtonVariant.control,\n      \"aria-label\": searchButtonAriaLabel,\n      id: searchButtonId,\n      onClick: onSearchButtonClick\n    }, React.createElement(SearchIcon, {\n      \"aria-hidden\": \"true\"\n    })))), React.createElement(ContextSelectorContext.Provider, {\n      value: {\n        onSelect\n      }\n    }, React.createElement(ContextSelectorMenuList, {\n      isOpen: isOpen\n    }, children)))));\n  }\n\n}\n\n_defineProperty(ContextSelector, \"propTypes\", {\n  children: _pt.node,\n  className: _pt.string,\n  isOpen: _pt.bool,\n  onToggle: _pt.func,\n  onSelect: _pt.func,\n  screenReaderLabel: _pt.string,\n  toggleText: _pt.string,\n  searchButtonAriaLabel: _pt.string,\n  searchInputValue: _pt.string,\n  searchInputPlaceholder: _pt.string\n});\n\n_defineProperty(ContextSelector, \"defaultProps\", {\n  children: null,\n  className: '',\n  isOpen: false,\n  onToggle: () => undefined,\n  onSelect: () => undefined,\n  screenReaderLabel: '',\n  toggleText: '',\n  searchButtonAriaLabel: 'Search menu items',\n  searchInputValue: '',\n  onSearchInputChange: () => undefined,\n  searchInputPlaceholder: 'Search',\n  onSearchButtonClick: () => undefined\n});\n//# sourceMappingURL=ContextSelector.js.map"],"file":"ContextSelector.js"}