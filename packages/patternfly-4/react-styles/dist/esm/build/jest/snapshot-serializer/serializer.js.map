{"version":3,"sources":["../../../../../src/build/jest/snapshot-serializer/serializer.js"],"names":["getSelectors","getStyles","getNodes","getInsertedStyles","addOverrides","createSerializer","globalCSS","test","val","withStyles","$$typeof","Symbol","for","print","printer","nodes","forEach","node","selectors","styles","join","code"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,SAAvB,QAAwC,YAAxC;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AACA,SAASC,YAAT,QAA6B,wBAA7B;AAEA,OAAO,SAASC,gBAAT,CAA0B;AAAEC,EAAAA,SAAS,GAAG;AAAd,IAAqB,EAA/C,EAAmD;AACxDF,EAAAA,YAAY;;AACZ,WAASG,IAAT,CAAcC,GAAd,EAAmB;AACjB,WAAOA,GAAG,IAAI,CAACA,GAAG,CAACC,UAAZ,IAA0BD,GAAG,CAACE,QAAJ,KAAiBC,MAAM,CAACC,GAAP,CAAW,iBAAX,CAAlD;AACD;;AAED,WAASC,KAAT,CAAeL,GAAf,EAAoBM,OAApB,EAA6B;AAC3B,UAAMC,KAAK,GAAGb,QAAQ,CAACM,GAAD,CAAtB;AACAO,IAAAA,KAAK,CAACC,OAAN,CAAcC,IAAI,IAAI;AACpBA,MAAAA,IAAI,CAACR,UAAL,GAAkB,IAAlB;AACD,KAFD;AAIA,UAAMS,SAAS,GAAGlB,YAAY,CAACe,KAAD,CAA9B;AACA,UAAMI,MAAM,GAAGlB,SAAS,CAACiB,SAAD,EAAYf,iBAAiB,GAAGiB,IAApB,CAAyB,EAAzB,CAAZ,EAA0Cd,SAA1C,CAAxB;AACA,UAAMe,IAAI,GAAGP,OAAO,CAACN,GAAD,CAApB;;AACA,QAAIW,MAAJ,EAAY;AACV,aAAQ,GAAEA,MAAO,OAAME,IAAK,EAA5B;AACD;;AACD,WAAOA,IAAP;AACD;;AAED,SAAO;AACLd,IAAAA,IADK;AAELM,IAAAA;AAFK,GAAP;AAID;AAED,eAAeR,gBAAgB,EAA/B","sourcesContent":["import { getSelectors, getStyles } from './cssUtils';\nimport { getNodes } from './reactUtils';\nimport { getInsertedStyles } from '../../../utils';\nimport { addOverrides } from './cssPropertyOverrides';\n\nexport function createSerializer({ globalCSS = '' } = {}) {\n  addOverrides();\n  function test(val) {\n    return val && !val.withStyles && val.$$typeof === Symbol.for('react.test.json');\n  }\n\n  function print(val, printer) {\n    const nodes = getNodes(val);\n    nodes.forEach(node => {\n      node.withStyles = true;\n    });\n\n    const selectors = getSelectors(nodes);\n    const styles = getStyles(selectors, getInsertedStyles().join(''), globalCSS);\n    const code = printer(val);\n    if (styles) {\n      return `${styles}\\n\\n${code}`;\n    }\n    return code;\n  }\n\n  return {\n    test,\n    print\n  };\n}\n\nexport default createSerializer();\n"],"file":"serializer.js"}